import{_ as Y,y as R,r as x,z as F,o as ee,c as V,w as o,f as u,d as l,g as n,e as m,b as U,h as N,F as $,m as g,a as C,p as H,t as z}from"./index-TO8iFplr.js";const le={class:"d-flex justify-content-end mb-2 gap-2"},oe={class:"search-filter-box mb-2"},se={class:"button-spacer mb-2"},te={class:"grid-box flex-grow-1 overflow-hidden d-flex flex-column"},ae={class:"table-wrapper"},ne={key:1,class:"text-muted"},de={class:"d-flex justify-content-end gap-2 mb-2"},ue={class:"form-box flex-grow-1 d-flex flex-column overflow-hidden"},re={class:"p-3 flex-grow-1 overflow-auto"},me={class:"radio-group"},ie={__name:"wrhousZoneManage",setup(fe){const r=R({zone_id:"",wrhous_id:"",item_ty:"",zone_nm:"",st:"",wrhous_nm:""}),M=x([]),E=x([]),p=x(null),y=x(null),s=R({zone_id:"",wrhous_id:"",wrhous_nm:"",item_ty:"",zone_nm:"",st:"M1",rm:""}),b=x(!1);F(()=>{const a=E.value.find(e=>e.wrhous_id===s.wrhous_id);return a?a.wrhous_nm:""});const B=F(()=>M.value.slice(0,10)),L=F(()=>{const a=B.value.length;return a<10?10-a:0}),S=async()=>{try{const a=await g.get("/api/wrhousForZone");E.value=a.data,console.log("[wrhousZoneManage] 창고 옵션 로드:",a.data)}catch(a){console.error("[wrhousZoneManage] 창고 옵션 로드 에러:",a)}},Z=async()=>{try{console.log("[wrhousZoneManage] 조회 조건:",r);const a=await g.get("/api/wrhousZoneManage",{params:r});M.value=a.data,y.value=null,console.log("[wrhousZoneManage] 조회 결과:",a.data)}catch(a){console.error("[wrhousZoneManage] 조회 에러:",a),alert("로케이션 목록 조회 중 오류가 발생했습니다.")}},W=()=>{r.zone_id="",r.wrhous_id="",r.item_ty="",r.zone_nm="",r.st="",r.wrhous_nm="",y.value=null,M.value=[],p.value=null,b.value=!1,s.zone_id="",s.wrhous_id="",s.wrhous_nm="",s.item_ty="",s.zone_nm="",s.st="M1",s.rm=""},j=(a,e)=>{p.value=a,y.value=e,a.zone_id&&a.zone_id.trim()!==""?(b.value=!0,s.zone_id=a.zone_id,s.wrhous_id=a.wrhous_id,s.wrhous_nm=a.wrhous_nm,s.item_ty=a.item_ty||"",s.zone_nm=a.zone_nm==="로케이션 없음"?"":a.zone_nm,s.st=a.st||"M1",s.rm=a.rm||""):(b.value=!1,s.zone_id="",s.wrhous_id=a.wrhous_id,s.wrhous_nm=a.wrhous_nm,s.item_ty="",s.zone_nm="",s.st="M1",s.rm="")},T=()=>{p.value=null,y.value=null,b.value=!1;const a=s.wrhous_id,e=s.wrhous_nm;s.zone_id="",s.item_ty="",s.zone_nm="",s.st="M1",s.rm="",a&&e?(s.wrhous_id=a,s.wrhous_nm=e):(s.wrhous_id="",s.wrhous_nm="")},O=a=>({E1:"자재",E2:"반제품",E3:"완제품"})[a]||a||"",A=async()=>{try{if(!s.wrhous_id.trim()){alert("창고를 선택해주세요.");return}if(!s.zone_nm.trim()){alert("로케이션 이름을 입력해주세요.");return}console.log("[wrhousZoneManage] 저장 데이터:",s),(await g.post("/api/wrhousZoneManage",s)).data.success&&(alert(b.value?"로케이션 정보가 수정되었습니다.":"새 로케이션이 등록되었습니다."),await Z(),T())}catch(a){console.error("[wrhousZoneManage] 저장 에러:",a),alert("로케이션 저장 중 오류가 발생했습니다.")}},q=async()=>{if(!p.value){alert("삭제할 로케이션을 선택해주세요.");return}if(confirm(`로케이션 '${p.value.zone_nm}'를 삭제하시겠습니까?`))try{console.log("[wrhousZoneManage] 삭제 ID:",p.value.zone_id),(await g.delete(`/api/wrhousZoneManage/${p.value.zone_id}`)).data.success&&(alert("로케이션이 삭제되었습니다."),await Z(),T())}catch(a){console.error("[wrhousZoneManage] 삭제 에러:",a),alert("로케이션 삭제 중 오류가 발생했습니다.")}};return ee(async()=>{await S()}),(a,e)=>{const w=m("CButton"),i=m("CFormLabel"),c=m("CFormInput"),d=m("CCol"),f=m("CRow"),k=m("CFormSelect"),v=m("CTableHeaderCell"),D=m("CTableRow"),G=m("CTableHead"),_=m("CTableDataCell"),J=m("CBadge"),K=m("CTableBody"),P=m("CTable"),h=m("CFormCheck"),Q=m("CFormTextarea"),X=m("CContainer");return C(),V(X,{fluid:"",class:"h-100 d-flex flex-column p-3"},{default:o(()=>[u("div",le,[l(w,{color:"secondary",size:"sm",onClick:Z},{default:o(()=>[...e[14]||(e[14]=[n("조회",-1)])]),_:1}),l(w,{color:"secondary",size:"sm",onClick:W},{default:o(()=>[...e[15]||(e[15]=[n("초기화",-1)])]),_:1})]),u("div",oe,[l(f,{class:"g-3"},{default:o(()=>[l(d,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[16]||(e[16]=[n("창고 ID",-1)])]),_:1}),l(c,{modelValue:r.wrhous_id,"onUpdate:modelValue":e[0]||(e[0]=t=>r.wrhous_id=t),size:"sm",placeholder:"창고 ID"},null,8,["modelValue"])]),_:1}),l(d,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[17]||(e[17]=[n("창고 이름",-1)])]),_:1}),l(c,{modelValue:r.wrhous_nm,"onUpdate:modelValue":e[1]||(e[1]=t=>r.wrhous_nm=t),size:"sm",placeholder:"창고 이름"},null,8,["modelValue"])]),_:1}),l(d,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[18]||(e[18]=[n("로케이션 ID",-1)])]),_:1}),l(c,{modelValue:r.zone_id,"onUpdate:modelValue":e[2]||(e[2]=t=>r.zone_id=t),size:"sm",placeholder:"로케이션 ID"},null,8,["modelValue"])]),_:1}),l(d,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[19]||(e[19]=[n("로케이션 이름",-1)])]),_:1}),l(c,{modelValue:r.zone_nm,"onUpdate:modelValue":e[3]||(e[3]=t=>r.zone_nm=t),size:"sm",placeholder:"로케이션 이름"},null,8,["modelValue"])]),_:1})]),_:1}),l(f,{class:"g-3 mt-1"},{default:o(()=>[l(d,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[20]||(e[20]=[n("품목 유형",-1)])]),_:1}),l(k,{modelValue:r.item_ty,"onUpdate:modelValue":e[4]||(e[4]=t=>r.item_ty=t),size:"sm"},{default:o(()=>[...e[21]||(e[21]=[u("option",{value:""},"전체",-1),u("option",{value:"E1"},"자재",-1),u("option",{value:"E2"},"반제품",-1),u("option",{value:"E3"},"완제품",-1)])]),_:1},8,["modelValue"])]),_:1}),l(d,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[22]||(e[22]=[n("상태",-1)])]),_:1}),l(k,{modelValue:r.st,"onUpdate:modelValue":e[5]||(e[5]=t=>r.st=t),size:"sm"},{default:o(()=>[...e[23]||(e[23]=[u("option",{value:""},"전체",-1),u("option",{value:"M1"},"활성",-1),u("option",{value:"M2"},"비활성",-1)])]),_:1},8,["modelValue"])]),_:1}),l(d,{md:6})]),_:1})]),l(f,{class:"flex-grow-1 overflow-hidden g-2"},{default:o(()=>[l(d,{md:7,class:"d-flex flex-column overflow-hidden"},{default:o(()=>[u("div",se,[l(w,{color:"secondary",size:"sm"},{default:o(()=>[...e[24]||(e[24]=[n("신규",-1)])]),_:1}),l(w,{color:"secondary",size:"sm"},{default:o(()=>[...e[25]||(e[25]=[n("저장",-1)])]),_:1}),l(w,{color:"danger",size:"sm"},{default:o(()=>[...e[26]||(e[26]=[n("삭제",-1)])]),_:1})]),u("div",te,[u("div",ae,[l(P,{bordered:"",hover:"",class:"data-table"},{default:o(()=>[l(G,null,{default:o(()=>[l(D,null,{default:o(()=>[l(v,{scope:"col",class:"text-center",style:{width:"40px"}},{default:o(()=>[...e[27]||(e[27]=[n("No",-1)])]),_:1}),l(v,{scope:"col",class:"text-center"},{default:o(()=>[...e[28]||(e[28]=[n("창고 ID",-1)])]),_:1}),l(v,{scope:"col",class:"text-center"},{default:o(()=>[...e[29]||(e[29]=[n("창고 이름",-1)])]),_:1}),l(v,{scope:"col",class:"text-center"},{default:o(()=>[...e[30]||(e[30]=[n("로케이션 ID",-1)])]),_:1}),l(v,{scope:"col",class:"text-center"},{default:o(()=>[...e[31]||(e[31]=[n("로케이션 이름",-1)])]),_:1}),l(v,{scope:"col",class:"text-center"},{default:o(()=>[...e[32]||(e[32]=[n("품목 유형",-1)])]),_:1}),l(v,{scope:"col",class:"text-center",style:{width:"80px"}},{default:o(()=>[...e[33]||(e[33]=[n("상태",-1)])]),_:1}),l(v,{scope:"col",class:"text-center"},{default:o(()=>[...e[34]||(e[34]=[n("비고",-1)])]),_:1})]),_:1})]),_:1}),l(K,null,{default:o(()=>[(C(!0),U($,null,N(B.value,(t,I)=>(C(),V(D,{key:`${t.wrhous_id}-${t.zone_id||"no-zone"}`,onClick:_e=>j(t,I),class:H({"selected-row":y.value===I})},{default:o(()=>[l(_,{class:"text-center"},{default:o(()=>[n(z(I+1),1)]),_:2},1024),l(_,{class:"text-center"},{default:o(()=>[n(z(t.wrhous_id),1)]),_:2},1024),l(_,null,{default:o(()=>[n(z(t.wrhous_nm),1)]),_:2},1024),l(_,{class:"text-center"},{default:o(()=>[n(z(t.zone_id||"-"),1)]),_:2},1024),l(_,null,{default:o(()=>[u("span",{class:H({"text-muted":!t.zone_id})},z(t.zone_id?t.zone_nm:"로케이션 없음"),3)]),_:2},1024),l(_,null,{default:o(()=>[n(z(t.zone_id?O(t.item_ty):"-"),1)]),_:2},1024),l(_,{class:"text-center"},{default:o(()=>[t.zone_id?(C(),V(J,{key:0,color:t.st==="M1"?"success":"secondary"},{default:o(()=>[n(z(t.st==="M1"?"활성":"비활성"),1)]),_:2},1032,["color"])):(C(),U("span",ne,"-"))]),_:2},1024),l(_,null,{default:o(()=>[n(z(t.rm||""),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128)),(C(!0),U($,null,N(L.value,t=>(C(),V(D,{key:"empty-"+t,class:"empty-row"},{default:o(()=>[l(_,{colspan:"8"},{default:o(()=>[...e[35]||(e[35]=[n(" ",-1)])]),_:1})]),_:1}))),128))]),_:1})]),_:1})])])]),_:1}),l(d,{md:5,class:"d-flex flex-column overflow-hidden"},{default:o(()=>[u("div",de,[l(w,{color:"secondary",size:"sm",onClick:T},{default:o(()=>[...e[36]||(e[36]=[n("신규",-1)])]),_:1}),l(w,{color:"secondary",size:"sm",onClick:A},{default:o(()=>[...e[37]||(e[37]=[n("저장",-1)])]),_:1}),l(w,{color:"danger",size:"sm",onClick:q,disabled:!p.value},{default:o(()=>[...e[38]||(e[38]=[n("삭제",-1)])]),_:1},8,["disabled"])]),u("div",ue,[u("div",re,[l(f,{class:"mb-2"},{default:o(()=>[l(d,{md:4,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[39]||(e[39]=[n("창고 ID",-1)])]),_:1})]),_:1}),l(d,{md:7,class:"ps-3"},{default:o(()=>[l(c,{modelValue:s.wrhous_id,"onUpdate:modelValue":e[6]||(e[6]=t=>s.wrhous_id=t),size:"sm",placeholder:"창고 ID를 입력하세요",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),l(f,{class:"mb-2"},{default:o(()=>[l(d,{md:4,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[40]||(e[40]=[n("창고 이름",-1)])]),_:1})]),_:1}),l(d,{md:7,class:"ps-3"},{default:o(()=>[l(c,{modelValue:s.wrhous_nm,"onUpdate:modelValue":e[7]||(e[7]=t=>s.wrhous_nm=t),size:"sm",placeholder:"창고 이름",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),l(f,{class:"mb-2"},{default:o(()=>[l(d,{md:4,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[41]||(e[41]=[n("로케이션 ID",-1)])]),_:1})]),_:1}),l(d,{md:7,class:"ps-3"},{default:o(()=>[l(c,{modelValue:s.zone_id,"onUpdate:modelValue":e[8]||(e[8]=t=>s.zone_id=t),size:"sm",placeholder:"자동 생성됩니다",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),l(f,{class:"mb-2"},{default:o(()=>[l(d,{md:4,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[42]||(e[42]=[n("로케이션 이름",-1)])]),_:1})]),_:1}),l(d,{md:7,class:"ps-3"},{default:o(()=>[l(c,{modelValue:s.zone_nm,"onUpdate:modelValue":e[9]||(e[9]=t=>s.zone_nm=t),size:"sm",placeholder:"자재창고 A구역 01번"},null,8,["modelValue"])]),_:1})]),_:1}),l(f,{class:"mb-2"},{default:o(()=>[l(d,{md:4,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[43]||(e[43]=[n("품목 유형",-1)])]),_:1})]),_:1}),l(d,{md:7,class:"ps-3"},{default:o(()=>[l(k,{modelValue:s.item_ty,"onUpdate:modelValue":e[10]||(e[10]=t=>s.item_ty=t),size:"sm"},{default:o(()=>[...e[44]||(e[44]=[u("option",{value:""},"선택하세요",-1),u("option",{value:"E1"},"자재",-1),u("option",{value:"E2"},"반제품",-1),u("option",{value:"E3"},"완제품",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(f,{class:"mb-2"},{default:o(()=>[l(d,{md:4,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[45]||(e[45]=[n("상태",-1)])]),_:1})]),_:1}),l(d,{md:7,class:"ps-3"},{default:o(()=>[u("div",me,[l(h,{class:"radio-item",type:"radio",id:"status-active",name:"status",value:"M1",modelValue:s.st,"onUpdate:modelValue":e[11]||(e[11]=t=>s.st=t),label:"활성상태"},null,8,["modelValue"]),l(h,{class:"radio-item",type:"radio",id:"status-inactive",name:"status",value:"M2",modelValue:s.st,"onUpdate:modelValue":e[12]||(e[12]=t=>s.st=t),label:"비활성상태"},null,8,["modelValue"])])]),_:1})]),_:1}),l(f,{class:"mb-2"},{default:o(()=>[l(d,{md:4,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[46]||(e[46]=[n("비고",-1)])]),_:1})]),_:1}),l(d,{md:7,class:"ps-3"},{default:o(()=>[l(Q,{modelValue:s.rm,"onUpdate:modelValue":e[13]||(e[13]=t=>s.rm=t),rows:"4",placeholder:"비고사항을 입력하세요",size:"sm"},null,8,["modelValue"])]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1})}}},we=Y(ie,[["__scopeId","data-v-75fe6a3a"]]);export{we as default};
