import{_ as se,r as D,s as Ce,q as ne,o as ue,e as _,c as j,a as b,w as s,d as n,g as u,f as t,b as M,x as ce,F as X,h as te,u as de,t as c,m as L,i as ke,y as xe,z as le,j as O,v as K,A as ie,p as Z,B as ee,C as qe}from"./index-TO8iFplr.js";const Se={class:"search-bar mb-3"},De={class:"left-controls d-flex gap-2 align-items-center"},Ie={class:"right-controls"},Ne={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},he={__name:"deliModalOne",props:{visible:{type:Boolean,default:!1}},emits:["close","select"],setup(Y,{emit:H}){const d=Y,z=H,m=D("");let $=Ce([]);const h=()=>{z("close")},A=v=>{if(!v)return"";try{if(typeof v=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(v))return v;const r=new Date(v);if(isNaN(r.getTime()))return"";const f=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0"),T=String(r.getDate()).padStart(2,"0");return`${f}-${o}-${T}`}catch{return""}},g=async()=>{try{const v={},r=(m.value||"").trim();r&&(v.deli_id=r);const{data:f}=await L.get("/api/delis",{params:v});$.value=Array.isArray(f)?f:[]}catch(v){console.error("delis fetch error",v)}},Q=async()=>{await g()},k=async()=>{m.value="",await g()},U=v=>{z("select",v),h()};return ne(()=>d.visible,v=>{v&&(m.value="",g())}),ue(()=>{d.visible&&!$.value.length&&g()}),(v,r)=>{const f=_("CModalTitle"),o=_("CModalHeader"),T=_("CFormInput"),V=_("CButton"),q=_("CTableHeaderCell"),F=_("CTableRow"),B=_("CTableHead"),C=_("CTableDataCell"),P=_("CTableBody"),I=_("CTable"),G=_("CModalBody"),W=_("CModal");return b(),j(W,{visible:Y.visible,onClose:h,size:"xl"},{default:s(()=>[n(o,{class:"modal-header-custom"},{default:s(()=>[n(f,null,{default:s(()=>[...r[1]||(r[1]=[u("납품 조회",-1)])]),_:1})]),_:1}),n(G,null,{default:s(()=>[t("div",Se,[t("div",De,[r[2]||(r[2]=t("label",{class:"search-label"},"납품 ID",-1)),n(T,{modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=N=>m.value=N),style:{width:"200px"}},null,8,["modelValue"])]),r[5]||(r[5]=t("div",{class:"flex-spacer"},null,-1)),t("div",Ie,[n(V,{color:"secondary",onClick:Q},{default:s(()=>[...r[3]||(r[3]=[u("조회",-1)])]),_:1}),n(V,{color:"secondary",onClick:k},{default:s(()=>[...r[4]||(r[4]=[u("초기화",-1)])]),_:1})])]),t("div",Ne,[n(I,{bordered:"",hover:"",small:""},{default:s(()=>[n(B,{color:"dark"},{default:s(()=>[n(F,null,{default:s(()=>[n(q,{class:"text-center",style:{width:"50px"}},{default:s(()=>[...r[6]||(r[6]=[u("No",-1)])]),_:1}),n(q,{class:"text-center",style:{width:"200px"}},{default:s(()=>[...r[7]||(r[7]=[u("납품 ID",-1)])]),_:1}),n(q,{class:"text-center",style:{width:"200px"}},{default:s(()=>[...r[8]||(r[8]=[u("납품 담당자",-1)])]),_:1}),n(q,{class:"text-center",style:{width:"200px"}},{default:s(()=>[...r[9]||(r[9]=[u("납품 등록 일자",-1)])]),_:1}),n(q,{class:"text-center",style:{width:"140px"}},{default:s(()=>[...r[10]||(r[10]=[u("납품 상태",-1)])]),_:1}),n(q,{class:"text-center"},{default:s(()=>[...r[11]||(r[11]=[u("비고",-1)])]),_:1})]),_:1})]),_:1}),n(P,null,{default:s(()=>[(b(!0),M(X,null,te(de($),(N,R)=>(b(),j(F,{key:N.deli_id,onDblclick:x=>U(N),style:{cursor:"pointer"}},{default:s(()=>[n(C,{class:"cell-no"},{default:s(()=>[u(c(R+1),1)]),_:2},1024),n(C,{class:"cell-left"},{default:s(()=>[u(c(N.deli_id),1)]),_:2},1024),n(C,{class:"cell-left"},{default:s(()=>[u(c(N.emp_nm),1)]),_:2},1024),n(C,{class:"cell-left"},{default:s(()=>[u(c(A(N.deli_dt)),1)]),_:2},1024),n(C,{class:"cell-left"},{default:s(()=>[u(c(N.status||"진행 중"),1)]),_:2},1024),n(C,{class:"cell-left"},{default:s(()=>[u(c(N.rm),1)]),_:2},1024)]),_:2},1032,["onDblclick"]))),128)),de($).length?ce("",!0):(b(),j(F,{key:0},{default:s(()=>[n(C,{colspan:"6",class:"text-center text-muted py-3"},{default:s(()=>[...r[12]||(r[12]=[u(" 데이터가 없습니다. ",-1)])]),_:1})]),_:1}))]),_:1})]),_:1})])]),_:1})]),_:1},8,["visible"])}}},Te=se(he,[["__scopeId","data-v-228e499e"]]),$e={class:"vars"},Me={class:"search-bar mb-3"},Ve={class:"left-controls d-flex gap-2 align-items-center"},Be={class:"right-controls"},Qe={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},Ae={__name:"deliModalTwo",props:{visible:{type:Boolean,default:!1}},emits:["close","select"],setup(Y,{emit:H}){const d=Y,z=H,m=D(""),$=D([]),h=D(!1),A=D(""),g=()=>{z("close")},Q=f=>{if(!f)return"";try{if(typeof f=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(f))return f;const o=new Date(f);if(isNaN(o.getTime()))return"";const T=o.getFullYear(),V=String(o.getMonth()+1).padStart(2,"0"),q=String(o.getDate()).padStart(2,"0");return`${T}-${V}-${q}`}catch{return""}},k=async()=>{h.value=!0,A.value="";try{const o={rcvord_id:(m.value||"").trim()},{data:T}=await L.get("/api/rcvords",{params:o});$.value=Array.isArray(T)?T:[]}catch(f){console.error("rcvords fetch error",f),A.value="조회 중 오류가 발생했습니다."}finally{h.value=!1}},U=async()=>{await k()},v=async()=>{m.value="",await k()},r=f=>{z("select",f),g()};return ne(()=>d.visible,f=>{f&&(m.value="",k())}),ue(()=>{d.visible&&!$.value.length&&k()}),(f,o)=>{const T=_("CModalTitle"),V=_("CModalHeader"),q=_("CFormInput"),F=_("CButton"),B=_("CTableHeaderCell"),C=_("CTableRow"),P=_("CTableHead"),I=_("CTableDataCell"),G=_("CTableBody"),W=_("CTable"),N=_("CModalBody"),R=_("CModal");return b(),j(R,{visible:Y.visible,onClose:g,size:"xl"},{default:s(()=>[n(V,{class:"modal-header-custom"},{default:s(()=>[n(T,null,{default:s(()=>[...o[1]||(o[1]=[u("수주 조회",-1)])]),_:1})]),_:1}),n(N,null,{default:s(()=>[t("div",$e,[t("div",Me,[t("div",Ve,[o[2]||(o[2]=t("label",{class:"search-label"},"수주 ID",-1)),n(q,{modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=x=>m.value=x),style:{width:"200px"}},null,8,["modelValue"])]),o[5]||(o[5]=t("div",{class:"flex-spacer"},null,-1)),t("div",Be,[n(F,{color:"secondary",onClick:U},{default:s(()=>[...o[3]||(o[3]=[u("조회",-1)])]),_:1}),n(F,{color:"secondary",onClick:v},{default:s(()=>[...o[4]||(o[4]=[u("초기화",-1)])]),_:1})])]),t("div",Qe,[n(W,{bordered:"",hover:"",small:""},{default:s(()=>[n(P,{color:"dark"},{default:s(()=>[n(C,null,{default:s(()=>[n(B,{class:"text-center col-no"},{default:s(()=>[...o[6]||(o[6]=[u("No",-1)])]),_:1}),n(B,{class:"text-center col-id"},{default:s(()=>[...o[7]||(o[7]=[u("수주 ID",-1)])]),_:1}),n(B,{class:"text-center col-co"},{default:s(()=>[...o[8]||(o[8]=[u("납품 업체 명",-1)])]),_:1}),n(B,{class:"text-center col-emp"},{default:s(()=>[...o[9]||(o[9]=[u("수주 담당자",-1)])]),_:1}),n(B,{class:"text-center col-date"},{default:s(()=>[...o[10]||(o[10]=[u("수주 등록 일자",-1)])]),_:1}),n(B,{class:"text-center col-status"},{default:s(()=>[...o[11]||(o[11]=[u("수주 상태",-1)])]),_:1}),n(B,{class:"text-center col-rm"},{default:s(()=>[...o[12]||(o[12]=[u("비고",-1)])]),_:1})]),_:1})]),_:1}),n(G,null,{default:s(()=>[h.value?(b(),j(C,{key:0},{default:s(()=>[n(I,{colspan:"7",class:"text-center py-3"},{default:s(()=>[...o[13]||(o[13]=[u("로딩중...",-1)])]),_:1})]),_:1})):A.value?(b(),j(C,{key:1},{default:s(()=>[n(I,{colspan:"7",class:"text-center text-danger py-3"},{default:s(()=>[u(c(A.value),1)]),_:1})]),_:1})):(b(!0),M(X,{key:2},te($.value,(x,J)=>(b(),j(C,{key:x.rcvord_id,onDblclick:ae=>r(x),style:{cursor:"pointer"}},{default:s(()=>[n(I,{class:"cell-no col-no"},{default:s(()=>[u(c(J+1),1)]),_:2},1024),n(I,{class:"cell-left col-id"},{default:s(()=>[u(c(x.rcvord_id),1)]),_:2},1024),n(I,{class:"cell-left col-co"},{default:s(()=>[u(c(x.co_nm),1)]),_:2},1024),n(I,{class:"cell-left col-emp"},{default:s(()=>[u(c(x.emp_nm),1)]),_:2},1024),n(I,{class:"cell-left col-date"},{default:s(()=>[u(c(Q(x.reg_dt)),1)]),_:2},1024),n(I,{class:"cell-left col-status"},{default:s(()=>[u(c(x.status||"진행 중"),1)]),_:2},1024),n(I,{class:"cell-left col-rm"},{default:s(()=>[u(c(x.rm),1)]),_:2},1024)]),_:2},1032,["onDblclick"]))),128)),!h.value&&!A.value&&!$.value.length?(b(),j(C,{key:3},{default:s(()=>[n(I,{colspan:"7",class:"text-center text-muted py-3"},{default:s(()=>[...o[14]||(o[14]=[u(" 데이터가 없습니다. ",-1)])]),_:1})]),_:1})):ce("",!0)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["visible"])}}},Re=se(Ae,[["__scopeId","data-v-9f65d035"]]),we={class:"global-toolbar vars-scope"},Oe={class:"rcvord-page vars-scope"},He={class:"order-header card-like"},Ue={class:"form-grid"},Fe={class:"field"},Ee={class:"field"},Le={class:"field"},je={class:"field"},ze={class:"field field-col-span"},Ke={class:"table-wrapper table-wrapper-expanded"},Ye={class:"data-grid"},Ge={class:"chk-col"},Je={class:"text-center"},Pe=["onUpdate:modelValue"],We={class:"cell-no"},Xe={class:"cell-left"},Ze=["title"],et={class:"cell-left"},tt=["title"],lt={class:"cell-left"},st=["title"],nt={class:"cell-left"},at=["title"],ot={class:"cell-left"},rt=["title"],dt={class:"cell-left"},it=["title"],ut={class:"cell-number"},ct={class:"cell-number"},mt={class:"cell-number"},pt=["onClick"],_t={key:0},ft={key:2,class:"input-like input-like--compact input-like--number"},vt=["title"],yt=["onClick"],bt={key:1,class:"input-like input-like--textarea"},gt=["title"],Ct=15,kt={__name:"deli",setup(Y){const H=ke(),d=xe({orderId:"",vendorName:"",owner:"",empId:"",status:"",statusCode:"",orderDate:"",deliveryStatus:"",note:""});let z=1;const m=D([]);function $(a={}){return{frontTempId:z++,deli_deta_id:null,rcvord_deta_id:null,prdt_id:null,prdt_opt_id:null,productName:"",optionName:"",requestQty:0,spec:"",unit:"",producible:"",paprd_dt:"",st:"",statusName:"",remark:"",_selected:!1,...a}}const h=D(!1);function A(){m.value.forEach(a=>a._selected=h.value)}const g=D(null),Q=D(""),k=D(""),U=D([]),v=D([]),r=D([]);function f(a,e){["requestQty","remark","paprd_dt"].includes(e)&&(g.value=a,Q.value=e,e==="requestQty"?k.value=String(a.requestQty):e==="remark"?k.value=a.remark:e==="paprd_dt"&&(k.value=a.paprd_dt||""),qe(()=>{if(e==="requestQty"&&U.value?.length){const l=U.value[U.value.length-1];l&&l.focus()}else if(e==="remark"&&v.value?.length){const l=v.value[v.value.length-1];l&&l.focus()}else if(e==="paprd_dt"&&r.value?.length){const l=r.value[r.value.length-1];l&&l.focus()}}))}function o(a){return g.value===a}function T(a,e){return o(a)&&Q.value===e}function V(){if(g.value){if(Q.value==="requestQty"){const e=(k.value??"").toString().trim().replace(/[\,\s]/g,""),l=Number(e);if(!Number.isFinite(l))g.value.requestQty="";else{const p=Number(g.value.remaining_qty||0);l>p?(alert("총 요청 수량을 초과하였습니다."),g.value.requestQty=""):l<0?g.value.requestQty="":g.value.requestQty=l}}else Q.value==="remark"?g.value.remark=k.value.trim():Q.value==="paprd_dt"&&(g.value.paprd_dt=k.value||"");q()}}function q(){g.value=null,Q.value="",k.value=""}const F=le(()=>m.value.reduce((a,e)=>a+(Number(e.requestQty)||0),0));le(()=>C(F.value));const B=le(()=>Math.max(0,Ct-m.value.length));function C(a){if(a==null||a==="")return"";const e=Number(a);return Number.isFinite(e)?e.toLocaleString():a}function P(){J.value=!0}function I(){m.value=m.value.filter(a=>!a._selected),h.value=!1}function G(){m.value=[],h.value=!1,q()}async function W(){const a=(d.orderId||"").trim();if(!a){alert("삭제할 납품 ID가 없습니다. 먼저 납품을 조회하세요.");return}if(confirm(`납품서 [${a}] 를 삭제하시겠습니까?`))try{await L.delete(`/api/delis/${encodeURIComponent(a)}`),alert("삭제되었습니다."),R()}catch(l){console.error("deli delete error",l);const p=l?.response?.data?.message||"삭제 중 오류가 발생했습니다.";alert(p)}}function N(){d.orderId||(!d.owner&&H.user&&(d.owner=H.user.emp_nm||"",d.empId=H.user.emp_id||""),d.orderDate||(d.orderDate=new Date().toISOString().slice(0,10)))}function R(){Object.assign(d,{orderId:"",vendorName:"",owner:"",empId:"",status:"",statusCode:"",orderDate:new Date().toISOString().slice(0,10),deliveryStatus:"",note:""}),N(),G()}ne(()=>H.user,()=>{N()},{immediate:!0});const x=D(!1),J=D(!1);function ae(){x.value=!0}async function me(a){try{const e=a.deli_id;if(!e)return;const{data:l}=await L.get(`/api/delis/${e}`),{header:p,lines:y}=l||{};d.orderId=p?.deli_id||"",d.owner=p?.emp_nm||p?.emp_id||"",d.empId=p?.emp_id||"",d.orderDate=p?.deli_dt?oe(p.deli_dt):"",d.note=p?.rm||"",m.value=Array.isArray(y)?y.map(i=>$({rcvord_deta_id:i.rcvord_deta_id||null,deli_deta_id:i.deli_deta_id||null,rcvord_id:i.rcvord_id||"",co_nm:i.co_nm||"",productName:i.prdt_nm||"",optionName:i.opt_nm||"",total_req_qty:i.total_req_qty||0,delivered_qty:i.delivered_qty||0,remaining_qty:i.remaining_qty||0,spec:i.spec||"",unit:i.unit||"",requestQty:Number(i.doc_line_qty||i.doc_delivered_qty||0),st:i.deli_st||"",statusName:i.deli_st_nm||"",remark:i.line_rm||""})):[];const w=Array.isArray(y)&&y.length>0&&y.every(i=>(i?.deli_st||"").toString().trim()==="J3");d.deliveryStatus=w?"출고 완료":"진행 중"}catch(e){console.error("deli detail fetch error",e);const l=e?.response?.data?.message||e?.message||"납품 상세 조회 중 오류가 발생했습니다.";alert(l)}finally{x.value=!1}}function oe(a){if(!a)return"";try{if(typeof a=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(a))return a;const e=new Date(a);if(isNaN(e.getTime()))return"";const l=e.getFullYear(),p=String(e.getMonth()+1).padStart(2,"0"),y=String(e.getDate()).padStart(2,"0");return`${l}-${p}-${y}`}catch{return""}}function pe(a){try{const e=(a||"").trim();if(!e)return new Date().toISOString().slice(0,19).replace("T"," ");if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const p=new Date,y=String(p.getHours()).padStart(2,"0"),w=String(p.getMinutes()).padStart(2,"0"),i=String(p.getSeconds()).padStart(2,"0");return`${e} ${y}:${w}:${i}`}const l=new Date(e);if(!isNaN(l.getTime()))return l.toISOString().slice(0,19).replace("T"," ")}catch{}return new Date().toISOString().slice(0,19).replace("T"," ")}async function _e(){try{if(!await ve()){alert("재고가 부족합니다."),R();return}const e=fe(),{data:l}=await L.post("/api/delis/save",e);l?.ok?(alert("저장되었습니다."),R()):alert("저장 실패")}catch(a){console.error("deli save error",a);const e=a?.response?.data?.message||a?.message||"저장 중 오류가 발생했습니다.";if(String(e).includes("재고가 부족")){alert("재고가 부족합니다."),R();return}alert("저장 중 오류가 발생했습니다.")}}function fe(){const a={deli_id:d.orderId||"",emp_id:d.empId||null,emp_nm:d.owner?d.owner.trim():"",deli_dt:d.orderDate||oe(new Date),rm:d.note||null},e=m.value.map(l=>({deli_deta_id:l.deli_deta_id||null,rcvord_deta_id:l.rcvord_deta_id||null,delivered_qty:Number(l.delivered_qty)||0,requestQty:Number(l.requestQty)||0,remark:l.remark||null}));return{header:a,lines:e}}async function ve(){try{return m.value.reduce((e,l)=>e+(Number(l.requestQty)||0),0)<=0,!0}catch(a){return console.warn("재고 선검증 실패(무시하고 서버 검증에 위임):",a),!0}}async function ye(a){try{const e=a?.rcvord_id;if(!e)return;const{data:l}=await L.get(`/api/rcvords/${e}`),{header:p,lines:y}=l||{};if(p&&(d.note=p.rm||d.note),Array.isArray(y)){const w=[];if(y.forEach(i=>{if(m.value.some(S=>S.rcvord_deta_id===i.rcvord_deta_id))return;const E=$({rcvord_deta_id:i.rcvord_deta_id,rcvord_id:e,co_nm:p?.co_nm||a?.co_nm||"",prdt_id:i.prdt_id,prdt_opt_id:i.prdt_opt_id,productName:i.prdt_nm,optionName:i.opt_nm||"",spec:i.spec,unit:i.unit,producible:i.prdt_st_nm||i.prdt_st||"",total_req_qty:i.rcvord_qy||0,delivered_qty:0,remaining_qty:Number(i.rcvord_qy||0),requestQty:0,remark:i.rm||""});m.value.push(E),w.push(i.rcvord_deta_id)}),w.length)try{const i=pe(d.orderDate);let E={};try{const{data:S}=await L.get("/api/delis/delivered-sum-before",{params:{ids:w.join(","),cutoffDt:i}});E=S?.data||{}}catch(S){console.warn("delivered-sum-before failed, fallback to total sum",S)}if(!E||Object.keys(E).length===0)try{const{data:S}=await L.get("/api/delis/delivered-sum",{params:{ids:w.join(",")}});E=S?.data||{}}catch(S){console.error("delivered-sum fallback error",S)}m.value=m.value.map(S=>{if(w.includes(S.rcvord_deta_id)){const re=Number(E?.[S.rcvord_deta_id]||0),be=Number(S.total_req_qty||0),ge=Math.max(be-re,0);return{...S,delivered_qty:re,remaining_qty:ge}}return S})}catch(i){console.error("delivered-sum fetch error",i)}}}catch(e){console.error("rcvord select error",e)}finally{J.value=!1}}return(a,e)=>(b(),M(X,null,[t("div",we,[t("div",{class:"toolbar-buttons"},[t("button",{class:"btn btn-sm btn-outline-secondary",onClick:R},"신규"),t("button",{class:"btn btn-sm btn-outline-secondary",onClick:ae},"납품 조회"),t("button",{class:"btn btn-sm btn-outline-secondary",onClick:_e},"저장"),t("button",{class:"btn btn-sm btn-outline-danger",onClick:W},"삭제")]),n(Te,{visible:x.value,onClose:e[0]||(e[0]=l=>x.value=!1),onSelect:me},null,8,["visible"]),n(Re,{visible:J.value,onClose:e[1]||(e[1]=l=>J.value=!1),onSelect:ye},null,8,["visible"])]),t("div",Oe,[t("div",He,[t("div",Ue,[t("div",Fe,[e[10]||(e[10]=t("label",null,"납품 ID",-1)),O(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>d.orderId=l),readonly:""},null,512),[[K,d.orderId]])]),t("div",Ee,[e[11]||(e[11]=t("label",null,"납품 담당자",-1)),O(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>d.owner=l),required:""},null,512),[[K,d.owner]])]),t("div",Le,[e[12]||(e[12]=t("label",null,"납품 등록 일자",-1)),O(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=l=>d.orderDate=l)},null,512),[[K,d.orderDate]])]),t("div",je,[e[13]||(e[13]=t("label",null,"납품 상태",-1)),O(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>d.deliveryStatus=l),readonly:""},null,512),[[K,d.deliveryStatus]])]),t("div",ze,[e[14]||(e[14]=t("label",null,"비고",-1)),O(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>d.note=l)},null,512),[[K,d.note]])])])]),t("div",{class:"sub-toolbar"},[t("div",{class:"sub-toolbar-buttons"},[t("button",{class:"btn btn-sm btn-outline-secondary",onClick:G},"초기화"),t("button",{class:"btn btn-sm btn-outline-secondary",onClick:P},"수주 추가"),t("button",{class:"btn btn-sm btn-outline-danger",onClick:I}," 선택 수주 삭제 ")])]),t("div",Ke,[t("table",Ye,[t("thead",null,[t("tr",null,[t("th",Ge,[O(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=l=>h.value=l),onChange:A},null,544),[[ie,h.value]])]),e[15]||(e[15]=t("th",{class:"no-col"},"No",-1)),e[16]||(e[16]=t("th",{class:"ro-col"},"수주 ID",-1)),e[17]||(e[17]=t("th",{class:"co-col"},"납품 업체 명",-1)),e[18]||(e[18]=t("th",{class:"pr-col"},"제품 명",-1)),e[19]||(e[19]=t("th",{class:"op-col"},"제품 옵션 명",-1)),e[20]||(e[20]=t("th",{class:"spec-col"},"규격",-1)),e[21]||(e[21]=t("th",{class:"unit-col"},"단위",-1)),e[22]||(e[22]=t("th",{class:"trqy-col"},"총 요청 수량",-1)),e[23]||(e[23]=t("th",{class:"dqy-col"},"기납품 수량",-1)),e[24]||(e[24]=t("th",{class:"unqy-col"},"미납품 수량",-1)),e[25]||(e[25]=t("th",{class:"tdqy-col"},"당회 총 납품 수량",-1)),e[26]||(e[26]=t("th",{class:"st-col"},"출고 상태",-1)),e[27]||(e[27]=t("th",{class:"rm-col"},"비고",-1))])]),t("tbody",null,[(b(!0),M(X,null,te(m.value,(l,p)=>(b(),M("tr",{key:l.frontTempId||p,class:Z({editing:o(l)})},[t("td",Je,[O(t("input",{type:"checkbox","onUpdate:modelValue":y=>l._selected=y},null,8,Pe),[[ie,l._selected]])]),t("td",We,c(p+1),1),t("td",Xe,[t("span",{class:"cell-text",title:l.rcvord_id},c(l.rcvord_id),9,Ze)]),t("td",et,[t("span",{class:"cell-text",title:l.co_nm},c(l.co_nm),9,tt)]),t("td",lt,[t("span",{class:"cell-text",title:l.productName},c(l.productName),9,st)]),t("td",nt,[t("span",{class:"cell-text",title:l.optionName},c(l.optionName),9,at)]),t("td",ot,[t("span",{class:"cell-text",title:l.spec},c(l.spec),9,rt)]),t("td",dt,[t("span",{class:"cell-text",title:l.unit},c(l.unit),9,it)]),t("td",ut,[t("span",null,c(C(l.total_req_qty||0)),1)]),t("td",ct,[t("span",null,c(C(l.delivered_qty||0)),1)]),t("td",mt,[t("span",null,c(C(l.remaining_qty||0)),1)]),t("td",{class:"cell-number editable",onClick:y=>l.remaining_qty>0&&f(l,"requestQty")},[l.remaining_qty===0?(b(),M("span",_t,"입력 불가")):T(l,"requestQty")?O((b(),M("input",{key:1,ref_for:!0,ref_key:"qtyInputs",ref:U,type:"text","onUpdate:modelValue":e[8]||(e[8]=y=>k.value=y),onKeyup:[ee(V,["enter"]),ee(q,["esc"])],onBlur:V,class:"editor-input text-end",placeholder:"입력"},null,544)),[[K,k.value]]):(b(),M("div",ft,[t("span",{class:Z(["value",{"placeholder-text":!l.requestQty}])},c(l.requestQty?C(l.requestQty):"입력"),3)]))],8,pt),t("td",{class:Z(["cell-left status-cell",{empty:!(l.statusName||"").trim()}])},[t("span",{class:"cell-text",title:l.statusName||""},c(l.statusName||""),9,vt)],2),t("td",{class:"cell-left editable",onClick:y=>f(l,"remark")},[T(l,"remark")?O((b(),M("textarea",{key:0,ref_for:!0,ref_key:"remarkInputs",ref:v,"onUpdate:modelValue":e[9]||(e[9]=y=>k.value=y),onKeyup:[ee(V,["enter"]),ee(q,["esc"])],onBlur:V,class:"editor-textarea",placeholder:"입력"},null,544)),[[K,k.value]]):(b(),M("div",bt,[t("div",{class:"ellipsis",title:l.remark||""},[t("span",{class:Z(["value",{"placeholder-text":!l.remark}])},c(l.remark||"입력"),3)],8,gt)]))],8,yt)],2))),128)),(b(!0),M(X,null,te(B.value,l=>(b(),M("tr",{key:"empty-"+l,class:"empty-row"},[...e[28]||(e[28]=[t("td",{colspan:"14"}," ",-1)])]))),128))])])])])],64))}},qt=se(kt,[["__scopeId","data-v-9cd47a08"]]);export{qt as default};
