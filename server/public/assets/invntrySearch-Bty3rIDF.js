import{_ as R,y as M,r as S,D as V,z as L,b as u,f as s,j as p,H as T,v as _,F as y,h as z,g as i,m as $,a as m,E as W,t as r,u as D}from"./index-TO8iFplr.js";const X={class:"container-fluid h-100 d-flex flex-column p-3"},B={class:"search-filter-box mb-2"},F={class:"row g-3 align-items-end"},I={class:"col-12 col-md-3"},O={class:"col-12 col-md-3"},A={class:"col-12 col-md-3"},C={class:"col-12 col-md-3"},j={class:"d-flex align-items-center gap-1"},q={class:"grid-box flex-grow-1 d-flex flex-column overflow-hidden"},G={class:"table-wrapper flex-grow-1"},H={class:"data-table w-100"},P={class:"text-center th-resizable"},Y={class:"th-resizable"},J={class:"th-resizable"},K={class:"th-resizable"},Q={class:"th-resizable"},Z={class:"th-resizable"},tt={class:"th-resizable"},st={class:"th-resizable"},ot={class:"th-resizable"},et={class:"th-resizable"},nt={class:"th-resizable"},lt={class:"th-resizable"},it={class:"text-center"},rt=["title"],at=["title"],dt=["title"],ut=["title"],mt=["title"],pt=["title"],ct=["title"],_t=["title"],xt=["title"],ft=["title"],vt=["title"],bt=15,yt={__name:"invntrySearch",setup(zt){const n=M({io_type:"",lot_no:"",rsc_nm:"",io_dt_from:"",io_dt_to:""}),c=S([]),x=S(["35px","80px","110px","120px","100px","140px","100px","100px","80px","60px","100px","200px"]),a=M({idx:-1,startX:0,startW:0});function l(e,t){t.preventDefault();const o=parseInt(String(x.value[e]||"").replace(/px$/,""))||0;a.idx=e,a.startX=t.clientX,a.startW=o,document.body.classList.add("resizing"),document.addEventListener("mousemove",f),document.addEventListener("mouseup",v)}function f(e){if(a.idx<0)return;const t=e.clientX-a.startX,b=Math.min(600,Math.max(56,a.startW+t));x.value[a.idx]=`${b}px`}function v(){a.idx=-1,document.body.classList.remove("resizing"),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v)}V(()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",v)});const E=L(()=>c.value),N=L(()=>Math.max(0,bt-c.value.length));function w(e){if(e==null||e==="")return"";const t=Number(e);return Number.isFinite(t)?t.toLocaleString():String(e)}function h(e){if(!e)return"";try{if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))return"";const o=t.getFullYear(),d=String(t.getMonth()+1).padStart(2,"0"),b=String(t.getDate()).padStart(2,"0");return`${o}-${d}-${b}`}catch{return""}}const g=h;function U(){n.io_type="",n.lot_no="",n.rsc_nm="",n.io_dt_from="",n.io_dt_to="",c.value=[]}async function k(){try{const e={...n},{data:t}=await $.get("/api/inventory-io",{params:e});c.value=Array.isArray(t?.data)?t.data:[]}catch(e){console.error("검색 오류",e),alert("검색 중 오류가 발생했습니다.")}}return(e,t)=>(m(),u("div",X,[s("div",{class:"d-flex justify-content-end mb-2 gap-2"},[s("button",{class:"btn btn-secondary btn-sm",onClick:k},"조회"),s("button",{class:"btn btn-secondary btn-sm",onClick:U},"초기화")]),s("div",B,[s("div",F,[s("div",I,[t[18]||(t[18]=s("label",{class:"form-label"},"입출고구분",-1)),p(s("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.io_type=o),class:"form-control"},[...t[17]||(t[17]=[s("option",{value:""},"전체",-1),s("option",{value:"IN"},"입고",-1),s("option",{value:"OUT"},"출고",-1)])],512),[[T,n.io_type]])]),s("div",O,[t[19]||(t[19]=s("label",{class:"form-label"},"LOT번호",-1)),p(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n.lot_no=o),type:"text",class:"form-control"},null,512),[[_,n.lot_no]])]),s("div",A,[t[20]||(t[20]=s("label",{class:"form-label"},"자재명",-1)),p(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>n.rsc_nm=o),type:"text",class:"form-control"},null,512),[[_,n.rsc_nm]])]),s("div",C,[t[22]||(t[22]=s("label",{class:"form-label"},"입출고일자",-1)),s("div",j,[p(s("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>n.io_dt_from=o),type:"date",class:"form-control"},null,512),[[_,n.io_dt_from]]),t[21]||(t[21]=s("span",{class:"mx-1"},"~",-1)),p(s("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>n.io_dt_to=o),type:"date",class:"form-control"},null,512),[[_,n.io_dt_to]])])])])]),s("div",q,[s("div",G,[s("table",H,[s("colgroup",null,[(m(!0),u(y,null,z(x.value,(o,d)=>(m(),u("col",{key:d,style:W({width:o})},null,4))),128))]),s("thead",null,[s("tr",null,[s("th",P,[t[23]||(t[23]=i(" No",-1)),s("span",{class:"col-resizer",onMousedown:t[5]||(t[5]=o=>l(0,o))},null,32)]),s("th",Y,[t[24]||(t[24]=i(" 입출고구분",-1)),s("span",{class:"col-resizer",onMousedown:t[6]||(t[6]=o=>l(1,o))},null,32)]),s("th",J,[t[25]||(t[25]=i(" 입출고일자",-1)),s("span",{class:"col-resizer",onMousedown:t[7]||(t[7]=o=>l(2,o))},null,32)]),s("th",K,[t[26]||(t[26]=i(" LOT번호",-1)),s("span",{class:"col-resizer",onMousedown:t[8]||(t[8]=o=>l(3,o))},null,32)]),s("th",Q,[t[27]||(t[27]=i(" 자재ID",-1)),s("span",{class:"col-resizer",onMousedown:t[9]||(t[9]=o=>l(4,o))},null,32)]),s("th",Z,[t[28]||(t[28]=i(" 자재명",-1)),s("span",{class:"col-resizer",onMousedown:t[10]||(t[10]=o=>l(5,o))},null,32)]),s("th",tt,[t[29]||(t[29]=i(" 창고명",-1)),s("span",{class:"col-resizer",onMousedown:t[11]||(t[11]=o=>l(6,o))},null,32)]),s("th",st,[t[30]||(t[30]=i(" 존명",-1)),s("span",{class:"col-resizer",onMousedown:t[12]||(t[12]=o=>l(7,o))},null,32)]),s("th",ot,[t[31]||(t[31]=i(" 수량",-1)),s("span",{class:"col-resizer",onMousedown:t[13]||(t[13]=o=>l(8,o))},null,32)]),s("th",et,[t[32]||(t[32]=i(" 단위",-1)),s("span",{class:"col-resizer",onMousedown:t[14]||(t[14]=o=>l(9,o))},null,32)]),s("th",nt,[t[33]||(t[33]=i(" 담당자",-1)),s("span",{class:"col-resizer",onMousedown:t[15]||(t[15]=o=>l(10,o))},null,32)]),s("th",lt,[t[34]||(t[34]=i(" 비고",-1)),s("span",{class:"col-resizer",onMousedown:t[16]||(t[16]=o=>l(11,o))},null,32)])])]),s("tbody",null,[(m(!0),u(y,null,z(E.value,(o,d)=>(m(),u("tr",{key:d},[s("td",it,r(d+1),1),s("td",{class:"text-start",title:o.io_type},r(o.io_type),9,rt),s("td",{class:"text-start",title:D(g)(o.io_dt)},r(D(g)(o.io_dt)),9,at),s("td",{class:"text-start",title:o.lot_no},r(o.lot_no),9,dt),s("td",{class:"text-start",title:o.rsc_id},r(o.rsc_id),9,ut),s("td",{class:"text-start",title:o.rsc_nm},r(o.rsc_nm),9,mt),s("td",{class:"text-start",title:o.wrhous_nm},r(o.wrhous_nm),9,pt),s("td",{class:"text-start",title:o.zone_nm},r(o.zone_nm),9,ct),s("td",{class:"text-end",title:w(o.qty)},r(w(o.qty)),9,_t),s("td",{class:"text-start",title:o.unit},r(o.unit||""),9,xt),s("td",{class:"text-start",title:o.emp_nm},r(o.emp_nm||""),9,ft),s("td",{class:"text-start",title:o.rm},r(o.rm||""),9,vt)]))),128)),(m(!0),u(y,null,z(N.value,o=>(m(),u("tr",{key:"empty-"+o,class:"empty-row"},[...t[35]||(t[35]=[s("td",{colspan:"13"}," ",-1)])]))),128))])])])])]))}},gt=R(yt,[["__scopeId","data-v-d3414e9f"]]);export{gt as default};
