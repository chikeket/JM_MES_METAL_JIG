import{_ as z,r as v,q as E,o as O,e as o,c as C,a as i,w as t,d as l,g as s,f as c,b as S,x as $,t as r,F as j,h as G,m as J}from"./index-TO8iFplr.js";const K={class:"search-bar mb-3"},Q={class:"left-controls d-flex gap-2 align-items-center"},W={class:"right-controls"},X={class:"table-responsive",style:{"max-height":"400px","overflow-y":"auto"}},Y={__name:"rcvordModalTwo",props:{visible:{type:Boolean,default:!1}},emits:["close","select"],setup(k,{emit:D}){const M=k,B=D,p=v(""),f=v(""),b=v([]),y=v(!1),m=v(""),V=()=>{B("close")},x=async()=>{y.value=!0,m.value="";try{const d=(p.value||"").trim(),e=(f.value||"").trim(),g={prdt_id:"",prdt_nm:d,spec:"",opt_nm:e},{data:T}=await J.get("/api/prdts",{params:g});b.value=Array.isArray(T)?T:[]}catch(d){console.error("products fetch error",d),m.value="조회 중 오류가 발생했습니다."}finally{y.value=!1}},F=async()=>{await x()},A=async()=>{p.value="",f.value="",await x()},I=d=>{B("select",d),V()};return E(()=>M.visible,d=>{d&&(p.value="",f.value="",x())}),O(()=>{M.visible&&!b.value.length&&x()}),(d,e)=>{const g=o("CModalTitle"),T=o("CModalHeader"),N=o("CFormInput"),H=o("CButton"),u=o("CTableHeaderCell"),_=o("CTableRow"),P=o("CTableHead"),n=o("CTableDataCell"),L=o("CTableBody"),R=o("CTable"),U=o("CModalBody"),q=o("CModal");return i(),C(q,{visible:k.visible,onClose:V,size:"xl"},{default:t(()=>[l(T,{class:"modal-header-custom"},{default:t(()=>[l(g,null,{default:t(()=>[...e[2]||(e[2]=[s("제품 조회",-1)])]),_:1})]),_:1}),l(U,null,{default:t(()=>[c("div",K,[c("div",Q,[e[3]||(e[3]=c("label",{class:"search-label"},"제품명",-1)),l(N,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),style:{width:"200px"}},null,8,["modelValue"]),e[4]||(e[4]=c("label",{class:"search-label ml-3"},"제품옵션명",-1)),l(N,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value=a),style:{width:"200px"}},null,8,["modelValue"])]),e[7]||(e[7]=c("div",{class:"flex-spacer"},null,-1)),c("div",W,[l(H,{color:"secondary",onClick:F},{default:t(()=>[...e[5]||(e[5]=[s("조회",-1)])]),_:1}),l(H,{color:"secondary",onClick:A},{default:t(()=>[...e[6]||(e[6]=[s("초기화",-1)])]),_:1})])]),c("div",X,[l(R,{bordered:"",hover:"",small:""},{default:t(()=>[l(P,{color:"dark"},{default:t(()=>[l(_,null,{default:t(()=>[l(u,{class:"text-center",style:{width:"50px"}},{default:t(()=>[...e[8]||(e[8]=[s("No",-1)])]),_:1}),l(u,{class:"text-center"},{default:t(()=>[...e[9]||(e[9]=[s("제품 명",-1)])]),_:1}),l(u,{class:"text-center"},{default:t(()=>[...e[10]||(e[10]=[s("제품 옵션 명",-1)])]),_:1}),l(u,{class:"text-center"},{default:t(()=>[...e[11]||(e[11]=[s("규격",-1)])]),_:1}),l(u,{class:"text-center"},{default:t(()=>[...e[12]||(e[12]=[s("단위",-1)])]),_:1}),l(u,{class:"text-center"},{default:t(()=>[...e[13]||(e[13]=[s("생산 가능 여부",-1)])]),_:1}),l(u,{class:"text-center"},{default:t(()=>[...e[14]||(e[14]=[s("비고",-1)])]),_:1})]),_:1})]),_:1}),l(L,null,{default:t(()=>[y.value?(i(),C(_,{key:0},{default:t(()=>[l(n,{colspan:"7",class:"text-center py-3"},{default:t(()=>[...e[15]||(e[15]=[s("로딩중...",-1)])]),_:1})]),_:1})):m.value?(i(),C(_,{key:1},{default:t(()=>[l(n,{colspan:"7",class:"text-center text-danger py-3"},{default:t(()=>[s(r(m.value),1)]),_:1})]),_:1})):(i(!0),S(j,{key:2},G(b.value,(a,w)=>(i(),C(_,{key:a.prdt_id+"_"+(a.prdt_opt_id||"no_opt")+"_"+w,onDblclick:Z=>I(a),style:{cursor:"pointer"}},{default:t(()=>[l(n,{class:"cell-no"},{default:t(()=>[s(r(w+1),1)]),_:2},1024),l(n,{class:"cell-left"},{default:t(()=>[s(r(a.prdt_nm),1)]),_:2},1024),l(n,{class:"cell-left"},{default:t(()=>[s(r(a.opt_nm||"-"),1)]),_:2},1024),l(n,{class:"cell-left"},{default:t(()=>[s(r(a.spec),1)]),_:2},1024),l(n,{class:"cell-left"},{default:t(()=>[s(r(a.unit),1)]),_:2},1024),l(n,{class:"cell-left"},{default:t(()=>[s(r(a.prdt_st_nm||a.prdt_st),1)]),_:2},1024),l(n,{class:"cell-left"},{default:t(()=>[s(r(a.rm||""),1)]),_:2},1024)]),_:2},1032,["onDblclick"]))),128)),!y.value&&!m.value&&!b.value.length?(i(),C(_,{key:3},{default:t(()=>[l(n,{colspan:"7",class:"text-center text-muted py-3"},{default:t(()=>[...e[16]||(e[16]=[s(" 데이터가 없습니다. ",-1)])]),_:1})]),_:1})):$("",!0)]),_:1})]),_:1})])]),_:1})]),_:1},8,["visible"])}}},ee=z(Y,[["__scopeId","data-v-eb8b191e"]]);export{ee as r};
