import{_ as U,y as w,r as M,D as V,z as S,b as u,f as s,j as p,v as c,F as _,h as y,g as r,m as $,a as m,E as W,t as d,u as D}from"./index-TO8iFplr.js";const X={class:"container-fluid h-100 d-flex flex-column p-3"},B={class:"search-filter-box mb-2"},F={class:"row g-3 align-items-end"},I={class:"col-12 col-md-3"},A={class:"col-12 col-md-3"},C={class:"col-12 col-md-3"},O={class:"col-12 col-md-3"},T={class:"d-flex align-items-center gap-1"},j={class:"grid-box flex-grow-1 d-flex flex-column overflow-hidden",style:{height:"calc(100vh - 220px)","min-height":"500px"}},q={class:"table-wrapper flex-grow-1",style:{height:"100%","max-height":"100%","overflow-y":"auto"}},G={class:"data-table w-100"},P={class:"text-center th-resizable"},Y={class:"th-resizable"},H={class:"th-resizable"},J={class:"th-resizable"},K={class:"th-resizable"},Q={class:"th-resizable"},Z={class:"th-resizable"},tt={class:"th-resizable"},st={class:"th-resizable"},et={class:"th-resizable"},nt={class:"th-resizable"},ot={class:"text-center"},lt={class:"text-end"},rt=15,dt={__name:"rscOrdrSearch",setup(it){const o=w({rsc_ordr_id:"",co_nm:"",emp_nm:"",reg_dt_from:"",reg_dt_to:""}),f=M([]),x=M(["35px","120px","100px","140px","100px","100px","60px","110px","100px","100px","300px"]),i=w({idx:-1,startX:0,startW:0});function l(n,t){t.preventDefault();const e=parseInt(String(x.value[n]||"").replace(/px$/,""))||0;i.idx=n,i.startX=t.clientX,i.startW=e,document.body.classList.add("resizing"),document.addEventListener("mousemove",b),document.addEventListener("mouseup",v)}function b(n){if(i.idx<0)return;const t=n.clientX-i.startX,g=Math.min(600,Math.max(56,i.startW+t));x.value[i.idx]=`${g}px`}function v(){i.idx=-1,document.body.classList.remove("resizing"),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",v)}V(()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",v)});const L=S(()=>f.value),h=S(()=>Math.max(0,rt-f.value.length));function E(n){if(n==null||n==="")return"";const t=Number(n);return Number.isFinite(t)?t.toLocaleString():String(n)}function N(n){if(!n)return"";try{if(typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n))return n;const t=new Date(n);if(isNaN(t.getTime()))return"";const e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),g=String(t.getDate()).padStart(2,"0");return`${e}-${a}-${g}`}catch{return""}}const z=N;function k(){o.rsc_ordr_id="",o.co_nm="",o.emp_nm="",o.reg_dt_from="",o.reg_dt_to="",f.value=[]}async function R(){try{const n={...o},{data:t}=await $.get("/api/rsc/ordrSearch",{params:n});f.value=Array.isArray(t?.data)?t.data:[]}catch(n){console.error("검색 오류",n),alert("검색 중 오류가 발생했습니다.")}}return(n,t)=>(m(),u("div",X,[s("div",{class:"d-flex justify-content-end mb-2 gap-2"},[s("button",{class:"btn btn-secondary btn-sm",onClick:R},"조회"),s("button",{class:"btn btn-secondary btn-sm",onClick:k},"초기화")]),s("div",B,[s("div",F,[s("div",I,[t[16]||(t[16]=s("label",{class:"form-label"},"발주 ID",-1)),p(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.rsc_ordr_id=e),type:"text",class:"form-control"},null,512),[[c,o.rsc_ordr_id]])]),s("div",A,[t[17]||(t[17]=s("label",{class:"form-label"},"공급 업체명",-1)),p(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.co_nm=e),type:"text",class:"form-control"},null,512),[[c,o.co_nm]])]),s("div",C,[t[18]||(t[18]=s("label",{class:"form-label"},"발주 담당자",-1)),p(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.emp_nm=e),type:"text",class:"form-control"},null,512),[[c,o.emp_nm]])]),s("div",O,[t[20]||(t[20]=s("label",{class:"form-label"},"발주일자",-1)),s("div",T,[p(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.reg_dt_from=e),type:"date",class:"form-control"},null,512),[[c,o.reg_dt_from]]),t[19]||(t[19]=s("span",{class:"mx-1"},"~",-1)),p(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.reg_dt_to=e),type:"date",class:"form-control"},null,512),[[c,o.reg_dt_to]])])])])]),s("div",j,[s("div",q,[s("table",G,[s("colgroup",null,[(m(!0),u(_,null,y(x.value,(e,a)=>(m(),u("col",{key:a,style:W({width:e})},null,4))),128))]),s("thead",null,[s("tr",null,[s("th",P,[t[21]||(t[21]=r("No",-1)),s("span",{class:"col-resizer",onMousedown:t[5]||(t[5]=e=>l(0,e))},null,32)]),s("th",Y,[t[22]||(t[22]=r("발주 ID",-1)),s("span",{class:"col-resizer",onMousedown:t[6]||(t[6]=e=>l(1,e))},null,32)]),s("th",H,[t[23]||(t[23]=r("발주 담당자",-1)),s("span",{class:"col-resizer",onMousedown:t[7]||(t[7]=e=>l(2,e))},null,32)]),s("th",J,[t[24]||(t[24]=r("공급 업체명",-1)),s("span",{class:"col-resizer",onMousedown:t[8]||(t[8]=e=>l(3,e))},null,32)]),s("th",K,[t[25]||(t[25]=r("자재 명",-1)),s("span",{class:"col-resizer",onMousedown:t[9]||(t[9]=e=>l(4,e))},null,32)]),s("th",Q,[t[26]||(t[26]=r("규격",-1)),s("span",{class:"col-resizer",onMousedown:t[10]||(t[10]=e=>l(5,e))},null,32)]),s("th",Z,[t[27]||(t[27]=r("단위",-1)),s("span",{class:"col-resizer",onMousedown:t[11]||(t[11]=e=>l(6,e))},null,32)]),s("th",tt,[t[28]||(t[28]=r("요청 수량",-1)),s("span",{class:"col-resizer",onMousedown:t[12]||(t[12]=e=>l(7,e))},null,32)]),s("th",st,[t[29]||(t[29]=r("발주 등록일자",-1)),s("span",{class:"col-resizer",onMousedown:t[13]||(t[13]=e=>l(8,e))},null,32)]),s("th",et,[t[30]||(t[30]=r("공급 예정일자",-1)),s("span",{class:"col-resizer",onMousedown:t[14]||(t[14]=e=>l(9,e))},null,32)]),s("th",nt,[t[31]||(t[31]=r("비고",-1)),s("span",{class:"col-resizer",onMousedown:t[15]||(t[15]=e=>l(11,e))},null,32)])])]),s("tbody",null,[(m(!0),u(_,null,y(L.value,(e,a)=>(m(),u("tr",{key:e.rsc_ordr_id+"-"+a},[s("td",ot,d(a+1),1),s("td",null,d(e.rsc_ordr_id),1),s("td",null,d(e.emp_nm),1),s("td",null,d(e.co_nm),1),s("td",null,d(e.rsc_nm),1),s("td",null,d(e.spec),1),s("td",null,d(e.unit),1),s("td",lt,d(E(e.qy)),1),s("td",null,d(D(z)(e.reg_dt)),1),s("td",null,d(D(z)(e.deli_expc_dt)),1),s("td",null,d(e.rm),1)]))),128)),(m(!0),u(_,null,y(h.value,e=>(m(),u("tr",{key:"empty-"+e},[...t[32]||(t[32]=[s("td",{colspan:"11"}," ",-1)])]))),128))])])])])]))}},ut=U(dt,[["__scopeId","data-v-d733dd0b"]]);export{ut as default};
