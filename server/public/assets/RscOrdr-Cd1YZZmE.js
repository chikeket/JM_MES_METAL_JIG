import{_ as Te,r as R,s as pe,e as p,c as I,a as g,w as n,d as o,g as m,f as t,j as G,H as le,B as z,v as re,b as F,x as de,F as J,h as ue,t as M,m as Q,i as fe,q as Ve,z as ve,y as Ie,u as V,I as Be,J as $e,p as Ue,K as $,k as ae}from"./index-TO8iFplr.js";import{_ as Ae}from"./rscModal-DJcEXXuo.js";import{u as qe}from"./useDates-sS5pNIz9.js";const we={class:"modal-body",style:{"max-height":"calc(100vh - 200px)","overflow-y":"auto","padding-right":"8px"}},Ee={class:"d-flex gap-2 mb-3"},Fe={class:"ms-auto d-flex gap-2"},Ke={class:"table table-bordered table-hover"},he=["onDblclick"],Le={key:0},Pe={__name:"coModal",props:{visible:Boolean},emits:["close","select"],setup(Z,{emit:U}){const L=U,d=R(""),k=R("CO_NM"),N=R(""),f=R(""),b=pe([]),A=i=>({ACT:"활성",INA:"비활성"})[i]||i,P=i=>({VENDOR:"공급업체",CUSTOMER:"납품업체"})[i]||i,q=()=>{j(),L("close")},j=()=>{console.log("[coModal] 검색 조건 초기화"),d.value="",k.value="CO_NM",N.value="",f.value="",b.value=[]},S=async()=>{try{console.log("[coModal] 검색 시작");const i={co_ty_id:d.value||"",co_nm:"",rpstr_nm:"",rpstr_tel:"",st:N.value||""};k.value==="CO_NM"?i.co_nm=f.value||"":k.value==="RPSTR_NM"?i.rpstr_nm=f.value||"":k.value==="RPSTR_TEL"&&(i.rpstr_tel=f.value||""),console.log("[coModal] 검색 파라미터:",i);const u=await Q.get("/api/cos",{params:i});console.log("[coModal] API 응답:",u.data),b.value=Array.isArray(u.data)?u.data:[],console.log("[coModal] 검색 결과:",b.value.length,"건")}catch(i){console.error("[coModal] 업체 검색 중 오류 발생:",i),console.error("[coModal] 에러 상세:",{status:i.response?.status,statusText:i.response?.statusText,data:i.response?.data}),b.value=[],i.response?.status===404?alert("업체 검색 API를 찾을 수 없습니다. 서버 설정을 확인해주세요."):alert("업체 검색 중 오류가 발생했습니다.")}},_=i=>{L("select",i),q()};return(i,u)=>{const w=p("CModalTitle"),r=p("CModalHeader"),D=p("CModalBody"),W=p("CButton"),O=p("CModalFooter"),Y=p("CModal");return g(),I(Y,{visible:Z.visible,onClose:q,size:"xl",alignment:"center"},{default:n(()=>[o(r,null,{default:n(()=>[o(w,null,{default:n(()=>[...u[6]||(u[6]=[m("업체 검색",-1)])]),_:1})]),_:1}),o(D,null,{default:n(()=>[t("div",we,[t("div",Ee,[G(t("select",{class:"form-select",style:{width:"150px"},"onUpdate:modelValue":u[0]||(u[0]=C=>d.value=C)},[...u[7]||(u[7]=[t("option",{value:""},"전체유형",-1),t("option",{value:"VENDOR"},"공급업체",-1),t("option",{value:"CUSTOMER"},"납품업체",-1)])],512),[[le,d.value]]),G(t("select",{class:"form-select",style:{width:"150px"},"onUpdate:modelValue":u[1]||(u[1]=C=>k.value=C)},[...u[8]||(u[8]=[t("option",{value:"CO_NM"},"업체 이름",-1),t("option",{value:"RPSTR_NM"},"대표자 이름",-1),t("option",{value:"RPSTR_TEL"},"대표자 연락처",-1)])],512),[[le,k.value]]),G(t("select",{class:"form-select",style:{width:"150px"},"onUpdate:modelValue":u[2]||(u[2]=C=>N.value=C)},[...u[9]||(u[9]=[t("option",{value:""},"전체상태",-1),t("option",{value:"ACT"},"활성",-1),t("option",{value:"INA"},"비활성",-1)])],512),[[le,N.value]]),G(t("input",{type:"text",class:"form-control",placeholder:"검색어 입력","onUpdate:modelValue":u[3]||(u[3]=C=>f.value=C),style:{width:"250px"},onKeyup:z(S,["enter"])},null,544),[[re,f.value]]),t("div",Fe,[t("button",{class:"btn btn-secondary",onClick:u[4]||(u[4]=C=>S())},"검색"),t("button",{class:"btn btn-secondary",onClick:u[5]||(u[5]=C=>j())},"초기화")])]),t("table",Ke,[u[11]||(u[11]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"업체 ID"),t("th",null,"업체 이름"),t("th",null,"업체 유형"),t("th",null,"대표자 이름"),t("th",null,"대표자 연락처"),t("th",null,"사업자 등록 번호"),t("th",null,"상태")])],-1)),t("tbody",null,[(g(!0),F(J,null,ue(b.value,(C,te)=>(g(),F("tr",{key:te,onDblclick:ie=>_(C),class:"cursor-pointer"},[t("td",null,M(C.co_id),1),t("td",null,M(C.co_nm),1),t("td",null,M(P(C.co_ty_id)),1),t("td",null,M(C.rpstr_nm),1),t("td",null,M(C.rpstr_tel),1),t("td",null,M(C.bizr_reg_no),1),t("td",null,M(A(C.st)),1)],40,he))),128)),b.value.length===0?(g(),F("tr",Le,[...u[10]||(u[10]=[t("td",{colspan:"7",class:"text-center text-muted py-3"}," 검색 결과가 없습니다. 다른 조건으로 검색해보세요. ",-1)])])):de("",!0)])])])]),_:1}),o(O,null,{default:n(()=>[o(W,{color:"secondary",onClick:q},{default:n(()=>[...u[12]||(u[12]=[m("닫기",-1)])]),_:1})]),_:1})]),_:1},8,["visible"])}}},ze=Te(Pe,[["__scopeId","data-v-8aaf3203"]]),He={class:"d-flex gap-2 mb-3"},Ge={style:{"max-height":"480px",overflow:"auto"}},Qe={class:"table table-sm table-hover mb-0"},je=["onDblclick"],Ye={key:0},Je={__name:"rscOrdrModal",props:{visible:Boolean},emits:["close","select"],setup(Z,{emit:U}){const L=U,d=fe(),k=R("rsc_ordr_nm"),N=R(""),f=R(""),b=pe([]),A=()=>{P(),L("close")},P=()=>{console.log("[rscOrdrModal] 검색 조건 초기화"),k.value="rsc_ordr_nm",N.value="",f.value="",b.value=[]},q=async()=>{try{const S=d.user;if(!S){alert("로그인이 필요합니다.");return}const _=S.emp_id??S.id;if(!_){alert("사용자 정보를 찾을 수 없습니다.");return}const i={rsc_ordr_nm:null,co_nm:null,emp_nm:null,reg_dt:null,emp_id:_};k.value==="rsc_ordr_nm"?i.rsc_ordr_nm=N.value:k.value==="co_nm"?i.co_nm=N.value:k.value==="emp_nm"&&(i.emp_nm=N.value),f.value&&(i.reg_dt=f.value),console.log("[rscOrdrModal] request params:",i);const w=(await Q.get("/api/rscOrdr",{params:i}))?.data;console.log("[rscOrdrModal] raw response:",w),b.value=Array.isArray(w)?w.map(r=>({rsc_ordr_id:r.rsc_ordr_id??r.RSC_ORDR_ID??"",co_id:r.co_id??r.CO_ID??"",rsc_ordr_nm:r.rsc_ordr_nm??r.RSC_ORDR_NM??"",rm:r.rm??r.RM??"",co_nm:r.co_nm??r.CO_NM??"",emp_nm:r.emp_nm??r.EMP_NM??"",reg_dt:r.reg_dt?String(r.reg_dt).slice(0,10):"",deta_count:Number(r.deta_count??r.DETA_COUNT??0)})):[]}catch(S){console.error("[rscOrdrModal] rscOrdr search error",S),b.value=[]}},j=async S=>{try{console.log("[rscOrdrModal] select row ->",S);const _=await Q.get("/api/rscOrdrDeta",{params:{rsc_ordr_id:S.rsc_ordr_id}}),i=Array.isArray(_.data)?_.data:[];console.log("[rscOrdrModal] detail length ->",i.length),L("select",{master:S,detailList:i}),A()}catch(_){console.error("[rscOrdrModal] select error:",_),L("select",{master:S,detailList:[]}),A()}};return(S,_)=>{const i=p("CModalTitle"),u=p("CModalHeader"),w=p("CModalBody"),r=p("CButton"),D=p("CModalFooter"),W=p("CModal");return g(),I(W,{visible:Z.visible,onClose:A,size:"xl"},{default:n(()=>[o(u,null,{default:n(()=>[o(i,null,{default:n(()=>[..._[3]||(_[3]=[m("자재 발주서 조회",-1)])]),_:1})]),_:1}),o(w,null,{default:n(()=>[t("div",He,[G(t("select",{class:"form-select",style:{width:"160px"},"onUpdate:modelValue":_[0]||(_[0]=O=>k.value=O)},[..._[4]||(_[4]=[t("option",{value:"rsc_ordr_nm"},"자재 발주서명",-1),t("option",{value:"co_nm"},"업체명",-1),t("option",{value:"emp_nm"},"담당자명",-1)])],512),[[le,k.value]]),G(t("input",{class:"form-control",type:"text","onUpdate:modelValue":_[1]||(_[1]=O=>N.value=O),onKeyup:z(q,["enter"]),placeholder:"검색어 입력",style:{width:"250px"}},null,544),[[re,N.value]]),G(t("input",{class:"form-control",type:"date","onUpdate:modelValue":_[2]||(_[2]=O=>f.value=O),style:{width:"160px"}},null,512),[[re,f.value]]),t("div",{class:"ms-auto d-flex gap-2"},[t("button",{class:"btn btn-secondary",onClick:q},"검색"),t("button",{class:"btn btn-secondary",onClick:P},"초기화")])]),t("div",Ge,[t("table",Qe,[_[6]||(_[6]=t("thead",null,[t("tr",null,[t("th",null,"자재 발주서ID"),t("th",null,"자재 발주서명"),t("th",null,"업체명"),t("th",null,"담당자명"),t("th",null,"등록일")])],-1)),t("tbody",null,[(g(!0),F(J,null,ue(b.value,(O,Y)=>(g(),F("tr",{key:O.rsc_ordr_id||Y,onDblclick:C=>j(O)},[t("td",null,M(O.rsc_ordr_id),1),t("td",null,M(O.rsc_ordr_nm),1),t("td",null,M(O.co_nm),1),t("td",null,M(O.emp_nm),1),t("td",null,M(O.reg_dt),1)],40,je))),128)),b.value.length===0?(g(),F("tr",Ye,[..._[5]||(_[5]=[t("td",{colspan:"5",class:"text-center text-muted"},"검색 결과 없음",-1)])])):de("",!0)])])])]),_:1}),o(D,null,{default:n(()=>[o(r,{color:"secondary",onClick:A},{default:n(()=>[..._[7]||(_[7]=[m("닫기",-1)])]),_:1})]),_:1})]),_:1},8,["visible"])}}},We={class:"d-flex justify-content-end gap-2 mb-3"},Xe={class:"d-flex justify-content-end gap-2 mb-3"},Ze=10,ol={__name:"RscOrdr",setup(Z){const{dateFormat:U}=qe,L=fe(),d=R({ordrName1:"",regDate:U(null,"yyyy-MM-dd"),co_nm:"",remark:""}),k=R(""),N=R("");Ve(()=>L.user,l=>{if(!l){k.value="",N.value="";return}k.value=l.emp_nm??l.name??"",N.value=l.emp_id??l.id??""},{immediate:!0});const f=R(null),b=R(null),A=R(!1),P=R(!1),q=R(!1),j=()=>{A.value=!0},S=()=>{A.value=!1},_=()=>{P.value=!0},i=()=>{P.value=!1},u=()=>{q.value=!0},w=()=>{q.value=!1},r=R([]),D=R([]),W=l=>l!=null&&D.value.includes(l),O=(l,e)=>{(e&&e.target?!!e.target.checked:!D.value.includes(l))?D.value.includes(l)||D.value.push(l):D.value=D.value.filter(c=>c!==l)},Y=ve({get(){return r.value.length>0&&D.value.length>0&&r.value.every(l=>!l.__empty&&D.value.includes(l.id))},set(l){D.value=l?r.value.filter(e=>!e.__empty).map(e=>e.id):[]}}),C=l=>{const e=l&&l.target?!!l.target.checked:!1;Y.value=e},te=l=>{if(!l)return;const e=l.rsc_id??l.code??l.RSC_ID??l.rscId??"",s=l.rsc_nm??l.name??l.RSC_NM??l.rscNm??"",c=l.spec??l.SPEC??"",v=l.rsc_unit??l.unit??l.RSC_UNIT??"";if(!e)return;const B=new Date;B.setDate(B.getDate()+7);const H=B.toISOString().slice(0,10),y=r.value.length>0?Math.max(...r.value.map(K=>K.id||0))+1:1;r.value.push({id:y,rsc_ordr_deta_id:l.rsc_ordr_deta_id??null,code:String(e),name:s,spec:c,unit:v,qty:0,deli_dt:H,note:""})},ie=l=>{l&&(console.log("[RscOrdr] 업체 선택:",l),d.value.co_nm=l.co_nm||"",b.value=l.co_id||null,console.log("[RscOrdr] 선택된 업체 ID:",b.value),i())},ye=async l=>{if(!l)return;if(console.log("[RscOrdr] onSelectRscOrdr received:",l),console.log("[RscOrdr] master data:",l.master),f.value=l.master?.rsc_ordr_id??null,d.value.ordrName1=l.master?.rsc_ordr_nm??d.value.ordrName1,d.value.co_nm=l.master?.co_nm??d.value.co_nm,d.value.remark=l.master?.rm??l.master?.remark??d.value.remark,console.log("[RscOrdr] mapped remark:",d.value.remark),console.log("[RscOrdr] source rm:",l.master?.rm),l.master?.reg_dt){const s=l.master.reg_dt;d.value.regDate=typeof s=="string"?s.slice(0,10):U(s,"yyyy-MM-dd")}b.value=l.master?.co_id??b.value;const e=Array.isArray(l.detailList)?l.detailList:[];if(console.log("[RscOrdr] detail list length:",e.length),e.length===0&&f.value)try{console.log("[RscOrdr] fetching detail from server for ID:",f.value);const{data:s}=await Q.get("/api/rscOrdrDeta",{params:{rsc_ordr_id:f.value}}),c=Array.isArray(s)?s:[];console.log("[RscOrdr] fetched detail list:",c),r.value=c.map((v,B)=>({id:B+1,code:v.rsc_id??"",name:v.rsc_nm??"",spec:v.spec??"",unit:v.rsc_unit??v.unit??"",qty:Number(v.qy??0),note:v.rm??"",deli_dt:v.deli_dt&&(typeof v.deli_dt=="string"?v.deli_dt.slice(0,10):U(v.deli_dt,"yyyy-MM-dd")),rsc_ordr_deta_id:v.rsc_ordr_deta_id??null}))}catch(s){console.error("[RscOrdr] Error fetching detail:",s),r.value=[]}else r.value=e.map((s,c)=>(console.log("[RscOrdr] mapping detail item:",s),{id:c+1,code:s.rsc_id??s.RSC_ID??"",name:s.rsc_nm??s.RSC_NM??"",spec:s.spec??s.SPEC??"",unit:s.rsc_unit??s.unit??s.RSC_UNIT??s.UNIT??"",qty:Number((s.qy??s.QY??0)||0),deli_dt:s.deli_dt&&(typeof s.deli_dt=="string"?s.deli_dt.slice(0,10):U(s.deli_dt,"yyyy-MM-dd")),note:s.rm??s.RM??"",rsc_ordr_deta_id:s.rsc_ordr_deta_id??s.RSC_ORDR_DETA_ID??null}));console.log("[RscOrdr] Final rows:",r.value),w()},E=Ie({id:null,field:null}),T=R(null),oe=(l,e)=>E.id===l.id&&E.field===e;function ne(l,e){!l||l.__empty||(E.id=l.id,E.field=e,e==="qty"?T.value=l.qty??0:e==="deli_dt"?T.value=l.deli_dt??"":e==="note"&&(T.value=l.note??""))}function X(l,e){if(!l)return;const s=r.value.findIndex(c=>c.id===l.id);if(e==="qty"){const c=Number(T.value),v=Number.isFinite(c)?c:0;s>=0&&(r.value[s].qty=v),l.qty=v}else if(e==="deli_dt"){const c=T.value??"";s>=0&&(r.value[s].deli_dt=c),l.deli_dt=c}else e==="note"&&(s>=0&&(r.value[s].note=T.value??""),l.note=T.value??"");ee()}function se(l,e,s){try{X(l,e)}finally{s&&s.target&&typeof s.target.blur=="function"&&s.target.blur()}}function ee(){E.id=null,E.field=null,T.value=null}const ge=l=>(l??0).toLocaleString(),Ce=ve(()=>{const l=(r.value||[]).slice();for(;l.length<Ze;)l.push({__empty:!0,id:"",code:"",name:"",spec:"",unit:"",qty:null,deli_dt:"",note:""});return l}),be=async()=>{try{if(E.id&&E.field){const y=r.value.find(K=>K.id===E.id);y&&X(y,E.field)}const l=r.value.filter(y=>!y.__empty);if(!l.length){alert("저장할 행이 없습니다.");return}if(l.filter(y=>{const K=Number(String(y.qty??"").toString().replace(/,/g,"").trim());return!Number.isFinite(K)||K<=0}).length){alert("수량이 0입니다. 수량을 입력하세요.");return}if(l.filter(y=>!y.deli_dt||String(y.deli_dt).trim()==="").length){alert("납품 예정일을 입력하세요.");return}if(!d.value.ordrName1||!d.value.ordrName1.trim()){alert("자재 발주서 명을 입력하세요.");return}if(!d.value.regDate){alert("등록 일자를 입력하세요.");return}if(!b.value){alert("공급 업체를 선택하세요.");return}const c={rsc_ordr_nm:d.value.ordrName1||"",co_id:b.value||null,emp_id:N.value||null,reg_dt:d.value.regDate&&String(d.value.regDate).slice(0,10)||(f.value?null:U(null,"yyyy-MM-dd")),rm:d.value.remark||null},v=l.filter(y=>y.code).map(y=>({rsc_id:y.code,qy:Number(y.qty??0),deli_dt:y.deli_dt&&String(y.deli_dt).trim()?String(y.deli_dt).slice(0,10):null,rm:y.note??"",rsc_ordr_deta_id:y.rsc_ordr_deta_id??null})),B={master:c,detailList:v,rsc_ordr_id:f.value||null};if((await Q.post("/api/rscOrdr",B)).data?.isSuccessed){const y=f.value?"수정":"저장";alert(`${y}되었습니다.`),ce()}else alert("저장 실패")}catch(l){console.error(l),alert("저장 오류")}},Me=async()=>{await xe()},xe=async()=>{if(!f.value){alert("자재 발주서를 먼저 선택해주세요");return}if(confirm("선택한 자재 발주서를 삭제하시겠습니까?"))try{(await Q.delete(`/api/rscOrdr/${encodeURIComponent(f.value)}`)).data?.isSuccessed?(alert("삭제되었습니다."),f.value=null,r.value=[],d.value.ordrName1="",d.value.co_nm="",d.value.remark=""):alert("삭제 실패")}catch(l){console.error(l),alert("삭제 오류")}};function ke(){if(!D.value.length){alert("선택된 행이 없습니다.");return}if(!confirm("선택한 상세 행을 삭제하시겠습니까?"))return;const l=new Set(D.value),e=r.value.filter(c=>!c.__empty&&l.has(c.id)&&c.rsc_ordr_deta_id).map(c=>c.rsc_ordr_deta_id),s=()=>{r.value=r.value.filter(c=>!l.has(c.id)),D.value=[]};e.length&&f.value?Q.post("/api/rscOrdr/deta/delete",{ids:e}).then(()=>{s()}).catch(c=>{console.error(c),alert("상세 삭제 오류")}):s()}const ce=()=>{d.value.ordrName1="",d.value.co_nm="",d.value.remark="",d.value.regDate=U(null,"yyyy-MM-dd"),r.value=[],D.value=[],f.value=null,b.value=null};return(l,e)=>{const s=p("CButton"),c=p("CInputGroupText"),v=p("CFormInput"),B=p("CInputGroup"),H=p("CCol"),y=p("CRow"),K=p("CContainer"),Re=p("CFormTextarea"),me=p("CFormCheck"),h=p("CTableHeaderCell"),_e=p("CTableRow"),De=p("CTableHead"),Oe=p("CTableBody"),Se=p("CTable");return g(),I(K,{fluid:""},{default:n(()=>[t("div",We,[o(s,{color:"secondary",onClick:e[0]||(e[0]=a=>ce())},{default:n(()=>[...e[14]||(e[14]=[m("초기화",-1)])]),_:1}),o(s,{color:"secondary",onClick:e[1]||(e[1]=a=>u())},{default:n(()=>[...e[15]||(e[15]=[m("자재 발주서 조회",-1)])]),_:1}),o(Je,{visible:q.value,onClose:w,onSelect:ye},null,8,["visible"]),o(s,{color:"secondary",onClick:be},{default:n(()=>[...e[16]||(e[16]=[m("저장",-1)])]),_:1}),o(s,{color:"danger",onClick:e[2]||(e[2]=a=>Me())},{default:n(()=>[...e[17]||(e[17]=[m("삭제",-1)])]),_:1})]),o(K,{fluid:""},{default:n(()=>[o(y,{class:"g-3 mb-3"},{default:n(()=>[o(H,{md:"3"},{default:n(()=>[o(B,null,{default:n(()=>[o(c,null,{default:n(()=>[...e[18]||(e[18]=[m("자재 발주서 명",-1)])]),_:1}),o(v,{modelValue:d.value.ordrName1,"onUpdate:modelValue":e[3]||(e[3]=a=>d.value.ordrName1=a),placeholder:"자재 발주서 명"},null,8,["modelValue"])]),_:1})]),_:1}),o(H,{md:"3"},{default:n(()=>[o(B,null,{default:n(()=>[o(c,null,{default:n(()=>[...e[19]||(e[19]=[m("등록 일자",-1)])]),_:1}),o(v,{type:"date",modelValue:d.value.regDate,"onUpdate:modelValue":e[4]||(e[4]=a=>d.value.regDate=a)},null,8,["modelValue"])]),_:1})]),_:1}),o(H,{md:"3"},{default:n(()=>[o(B,null,{default:n(()=>[o(c,null,{default:n(()=>[...e[20]||(e[20]=[m("공급 업체",-1)])]),_:1}),o(v,{modelValue:d.value.co_nm,"onUpdate:modelValue":e[5]||(e[5]=a=>d.value.co_nm=a),placeholder:"공급 업체"},null,8,["modelValue"]),o(V(Be),{icon:V($e),size:"xl",onClick:e[6]||(e[6]=a=>_())},null,8,["icon"]),o(ze,{visible:P.value,onClose:i,onSelect:ie},null,8,["visible"])]),_:1})]),_:1}),o(H,{md:"3"},{default:n(()=>[o(B,null,{default:n(()=>[o(c,null,{default:n(()=>[...e[21]||(e[21]=[m("담당자",-1)])]),_:1}),o(v,{type:"text",modelValue:k.value,"onUpdate:modelValue":e[7]||(e[7]=a=>k.value=a),disabled:"",tabindex:"-1","aria-readonly":"true"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(Re,{modelValue:d.value.remark,"onUpdate:modelValue":e[8]||(e[8]=a=>d.value.remark=a),label:"비고",rows:"3",text:"필요 시 기재",class:"mb-3"},null,8,["modelValue"]),t("div",Xe,[o(s,{color:"secondary",onClick:e[9]||(e[9]=a=>j())},{default:n(()=>[...e[22]||(e[22]=[m("자재 조회",-1)])]),_:1}),o(Ae,{visible:A.value,onClose:S,onSelect:te},null,8,["visible"]),o(s,{color:"danger",onClick:ke},{default:n(()=>[...e[23]||(e[23]=[m("삭제",-1)])]),_:1})]),o(Se,{hover:"",bordered:"",small:"",class:"align-middle"},{default:n(()=>[o(De,{color:"dark"},{default:n(()=>[o(_e,null,{default:n(()=>[o(h,{scope:"col",class:"text-center",style:{width:"56px"}},{default:n(()=>[o(me,{checked:Y.value,onChange:e[10]||(e[10]=a=>C(a))},null,8,["checked"])]),_:1}),o(h,{scope:"col",class:"text-center",style:{width:"56px"}},{default:n(()=>[...e[24]||(e[24]=[m("No",-1)])]),_:1}),o(h,{scope:"col",class:"text-center"},{default:n(()=>[...e[25]||(e[25]=[m("자재 코드",-1)])]),_:1}),o(h,{scope:"col",class:"text-center"},{default:n(()=>[...e[26]||(e[26]=[m("자재 명",-1)])]),_:1}),o(h,{scope:"col",class:"text-center"},{default:n(()=>[...e[27]||(e[27]=[m("규격",-1)])]),_:1}),o(h,{scope:"col",class:"text-center",style:{width:"120px"}},{default:n(()=>[...e[28]||(e[28]=[m("단위",-1)])]),_:1}),o(h,{scope:"col",class:"text-center",style:{width:"140px"}},{default:n(()=>[...e[29]||(e[29]=[m("수량",-1)])]),_:1}),o(h,{scope:"col",class:"text-center",style:{width:"140px"}},{default:n(()=>[...e[30]||(e[30]=[m("납품 예정 일",-1)])]),_:1}),o(h,{scope:"col",class:"text-center"},{default:n(()=>[...e[31]||(e[31]=[m("비고",-1)])]),_:1})]),_:1})]),_:1}),o(Oe,null,{default:n(()=>[(g(!0),F(J,null,ue(Ce.value,(a,Ne)=>(g(),I(_e,{key:a.__empty?"empty-"+Ne:a.id,class:Ue(a.__empty?"table-secondary":"")},{default:n(()=>[o(V($),{class:"text-center"},{default:n(()=>[a.__empty?de("",!0):(g(),I(me,{key:0,checked:W(a.id),onChange:x=>O(a.id,x)},null,8,["checked","onChange"]))]),_:2},1024),o(V($),{class:"text-end"},{default:n(()=>[m(M(a.__empty?"":a.id),1)]),_:2},1024),o(V($),null,{default:n(()=>[m(M(a.code||""),1)]),_:2},1024),o(V($),null,{default:n(()=>[m(M(a.name||""),1)]),_:2},1024),o(V($),null,{default:n(()=>[m(M(a.spec||""),1)]),_:2},1024),o(V($),{class:"text-center"},{default:n(()=>[m(M(a.unit||""),1)]),_:2},1024),a.__empty?(g(),I(V($),{key:1,class:"text-end"},{default:n(()=>[...e[32]||(e[32]=[m(" ",-1)])]),_:1})):(g(),I(V($),{key:0,class:"text-end",onDblclick:x=>ne(a,"qty")},{default:n(()=>[oe(a,"qty")?(g(),I(v,{key:0,modelValue:T.value,"onUpdate:modelValue":e[11]||(e[11]=x=>T.value=x),modelModifiers:{number:!0},type:"number",min:"0",size:"sm",class:"text-end",onKeydown:z(ae(x=>se(a,"qty",x),["prevent"]),["enter"]),onKeyup:z(ee,["esc"]),onBlur:x=>X(a,"qty"),placeholder:"0"},null,8,["modelValue","onKeydown","onBlur"])):(g(),F(J,{key:1},[m(M(ge(a.qty)),1)],64))]),_:2},1032,["onDblclick"])),a.__empty?(g(),I(V($),{key:3},{default:n(()=>[...e[33]||(e[33]=[m(" ",-1)])]),_:1})):(g(),I(V($),{key:2,onDblclick:x=>ne(a,"deli_dt")},{default:n(()=>[oe(a,"deli_dt")?(g(),I(v,{key:0,modelValue:T.value,"onUpdate:modelValue":e[12]||(e[12]=x=>T.value=x),type:"date",size:"sm",onKeydown:z(ae(x=>se(a,"deli_dt",x),["prevent"]),["enter"]),onKeyup:z(ee,["esc"]),onBlur:x=>X(a,"deli_dt"),placeholder:"납품 예정 일 입력"},null,8,["modelValue","onKeydown","onBlur"])):(g(),F(J,{key:1},[m(M(a.deli_dt||""),1)],64))]),_:2},1032,["onDblclick"])),a.__empty?(g(),I(V($),{key:5},{default:n(()=>[...e[34]||(e[34]=[m(" ",-1)])]),_:1})):(g(),I(V($),{key:4,onDblclick:x=>ne(a,"note")},{default:n(()=>[oe(a,"note")?(g(),I(v,{key:0,modelValue:T.value,"onUpdate:modelValue":e[13]||(e[13]=x=>T.value=x),type:"text",size:"sm",onKeydown:z(ae(x=>se(a,"note",x),["prevent"]),["enter"]),onKeyup:z(ee,["esc"]),onBlur:x=>X(a,"note"),placeholder:"비고 입력"},null,8,["modelValue","onKeydown","onBlur"])):(g(),F(J,{key:1},[m(M(a.note||""),1)],64))]),_:2},1032,["onDblclick"]))]),_:2},1032,["class"]))),128))]),_:1})]),_:1})]),_:1})}}};export{ol as default};
