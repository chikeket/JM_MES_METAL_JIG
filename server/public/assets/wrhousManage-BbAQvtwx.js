import{_ as Q,y as U,r as g,z as h,o as X,c as D,w as o,f as d,d as l,g as t,e as r,b as R,h as W,F as H,m as E,a as b,p as Y,t as v}from"./index-TO8iFplr.js";const Z={class:"d-flex justify-content-end mb-2 gap-2"},ee={class:"search-filter-box mb-2"},le={class:"button-spacer mb-2"},oe={class:"grid-box flex-grow-1 overflow-hidden d-flex flex-column"},se={class:"table-wrapper"},te={class:"d-flex justify-content-end gap-2 mb-2"},ae={class:"form-box flex-grow-1 d-flex flex-column overflow-hidden"},ne={class:"p-3 flex-grow-1 overflow-auto"},de={class:"radio-group"},ue={__name:"wrhousManage",setup(re){const m=U({wrhous_id:"",wrhous_nm:"",item_ty:"",st:""}),V=g([]),p=g(null),C=g(null),a=U({wrhous_id:"",wrhous_nm:"",item_ty:"",st:"M1",rm:""}),M=g(!1),B=h(()=>V.value.slice(0,10)),L=h(()=>{const n=B.value.length;return n<10?10-n:0}),z=async()=>{try{console.log("[wrhousManage] 조회 조건:",m);const n=await E.get("/api/wrhousManage",{params:m});V.value=n.data,C.value=null,console.log("[wrhousManage] 조회 결과:",n.data)}catch(n){console.error("[wrhousManage] 조회 에러:",n),alert("창고 목록 조회 중 오류가 발생했습니다.")}},N=()=>{m.wrhous_id="",m.wrhous_nm="",m.item_ty="",m.st="",C.value=null,V.value=[],y()},S=(n,e)=>{p.value=n,C.value=e,M.value=!0,a.wrhous_id=n.wrhous_id,a.wrhous_nm=n.wrhous_nm,a.item_ty=n.item_ty||"",a.st=n.st,a.rm=n.rm||""},y=()=>{p.value=null,C.value=null,M.value=!1,a.wrhous_id="",a.wrhous_nm="",a.item_ty="",a.st="M1",a.rm=""},$=async()=>{try{if(!a.wrhous_nm.trim()){alert("창고명을 입력해주세요.");return}console.log("[wrhousManage] 저장 데이터:",a),(await E.post("/api/wrhousManage",a)).data.success&&(alert(M.value?"창고 정보가 수정되었습니다.":"새 창고가 등록되었습니다."),await z(),y())}catch(n){console.error("[wrhousManage] 저장 에러:",n),alert("창고 저장 중 오류가 발생했습니다.")}},j=async()=>{if(!p.value){alert("삭제할 창고를 선택해주세요.");return}if(confirm(`창고 '${p.value.wrhous_nm}'를 삭제하시겠습니까?`))try{console.log("[wrhousManage] 삭제 ID:",p.value.wrhous_id),(await E.delete(`/api/wrhousManage/${p.value.wrhous_id}`)).data.success&&(alert("창고가 삭제되었습니다."),await z(),y())}catch(n){console.error("[wrhousManage] 삭제 에러:",n),alert("창고 삭제 중 오류가 발생했습니다.")}};X(()=>{});const q=n=>({E1:"자재",E2:"반제품",E3:"완제품"})[n]||n||"";return(n,e)=>{const f=r("CButton"),i=r("CFormLabel"),x=r("CFormInput"),u=r("CCol"),T=r("CFormSelect"),_=r("CRow"),w=r("CTableHeaderCell"),k=r("CTableRow"),A=r("CTableHead"),c=r("CTableDataCell"),G=r("CBadge"),J=r("CTableBody"),K=r("CTable"),I=r("CFormCheck"),O=r("CFormTextarea"),P=r("CContainer");return b(),D(P,{fluid:"",class:"h-100 d-flex flex-column p-3"},{default:o(()=>[d("div",Z,[l(f,{color:"secondary",size:"sm",onClick:z},{default:o(()=>[...e[10]||(e[10]=[t("조회",-1)])]),_:1}),l(f,{color:"secondary",size:"sm",onClick:N},{default:o(()=>[...e[11]||(e[11]=[t("초기화",-1)])]),_:1})]),d("div",ee,[l(_,{class:"g-3"},{default:o(()=>[l(u,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[12]||(e[12]=[t("창고 ID",-1)])]),_:1}),l(x,{modelValue:m.wrhous_id,"onUpdate:modelValue":e[0]||(e[0]=s=>m.wrhous_id=s),size:"sm",placeholder:"창고 ID를 입력하세요"},null,8,["modelValue"])]),_:1}),l(u,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[13]||(e[13]=[t("창고명",-1)])]),_:1}),l(x,{modelValue:m.wrhous_nm,"onUpdate:modelValue":e[1]||(e[1]=s=>m.wrhous_nm=s),size:"sm",placeholder:"창고명을 입력하세요"},null,8,["modelValue"])]),_:1}),l(u,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[14]||(e[14]=[t("품목 유형",-1)])]),_:1}),l(T,{modelValue:m.item_ty,"onUpdate:modelValue":e[2]||(e[2]=s=>m.item_ty=s),size:"sm"},{default:o(()=>[...e[15]||(e[15]=[d("option",{value:""},"전체",-1),d("option",{value:"E1"},"자재",-1),d("option",{value:"E2"},"반제품",-1),d("option",{value:"E3"},"완제품",-1)])]),_:1},8,["modelValue"])]),_:1}),l(u,{md:3},{default:o(()=>[l(i,{class:"form-label"},{default:o(()=>[...e[16]||(e[16]=[t("상태",-1)])]),_:1}),l(T,{modelValue:m.st,"onUpdate:modelValue":e[3]||(e[3]=s=>m.st=s),size:"sm"},{default:o(()=>[...e[17]||(e[17]=[d("option",{value:""},"전체",-1),d("option",{value:"M1"},"활성",-1),d("option",{value:"M2"},"비활성",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),l(_,{class:"flex-grow-1 overflow-hidden g-2"},{default:o(()=>[l(u,{md:6,class:"d-flex flex-column overflow-hidden"},{default:o(()=>[d("div",le,[l(f,{color:"secondary",size:"sm"},{default:o(()=>[...e[18]||(e[18]=[t("신규",-1)])]),_:1}),l(f,{color:"secondary",size:"sm"},{default:o(()=>[...e[19]||(e[19]=[t("저장",-1)])]),_:1}),l(f,{color:"danger",size:"sm"},{default:o(()=>[...e[20]||(e[20]=[t("삭제",-1)])]),_:1})]),d("div",oe,[d("div",se,[l(K,{bordered:"",hover:"",class:"data-table"},{default:o(()=>[l(A,null,{default:o(()=>[l(k,null,{default:o(()=>[l(w,{scope:"col",class:"text-center",style:{width:"60px"}},{default:o(()=>[...e[21]||(e[21]=[t("No",-1)])]),_:1}),l(w,{scope:"col",class:"text-center"},{default:o(()=>[...e[22]||(e[22]=[t("창고 ID",-1)])]),_:1}),l(w,{scope:"col",class:"text-center"},{default:o(()=>[...e[23]||(e[23]=[t("창고명",-1)])]),_:1}),l(w,{scope:"col",class:"text-center"},{default:o(()=>[...e[24]||(e[24]=[t("품목 유형",-1)])]),_:1}),l(w,{scope:"col",class:"text-center",style:{width:"100px"}},{default:o(()=>[...e[25]||(e[25]=[t("상태",-1)])]),_:1}),l(w,{scope:"col",class:"text-center"},{default:o(()=>[...e[26]||(e[26]=[t("비고",-1)])]),_:1})]),_:1})]),_:1}),l(J,null,{default:o(()=>[(b(!0),R(H,null,W(B.value,(s,F)=>(b(),D(k,{key:s.wrhous_id,onClick:me=>S(s,F),class:Y({"selected-row":C.value===F})},{default:o(()=>[l(c,{class:"text-center"},{default:o(()=>[t(v(F+1),1)]),_:2},1024),l(c,{class:"text-center"},{default:o(()=>[t(v(s.wrhous_id),1)]),_:2},1024),l(c,null,{default:o(()=>[t(v(s.wrhous_nm),1)]),_:2},1024),l(c,null,{default:o(()=>[t(v(q(s.item_ty)),1)]),_:2},1024),l(c,{class:"text-center"},{default:o(()=>[l(G,{color:s.st==="M1"?"success":"secondary"},{default:o(()=>[t(v(s.st==="M1"?"활성":"비활성"),1)]),_:2},1032,["color"])]),_:2},1024),l(c,null,{default:o(()=>[t(v(s.rm||""),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128)),(b(!0),R(H,null,W(L.value,s=>(b(),D(k,{key:"empty-"+s,class:"empty-row"},{default:o(()=>[l(c,{colspan:"6"},{default:o(()=>[...e[27]||(e[27]=[t(" ",-1)])]),_:1})]),_:1}))),128))]),_:1})]),_:1})])])]),_:1}),l(u,{md:6,class:"d-flex flex-column overflow-hidden"},{default:o(()=>[d("div",te,[l(f,{color:"secondary",size:"sm",onClick:y},{default:o(()=>[...e[28]||(e[28]=[t("신규",-1)])]),_:1}),l(f,{color:"secondary",size:"sm",onClick:$},{default:o(()=>[...e[29]||(e[29]=[t("저장",-1)])]),_:1}),l(f,{color:"danger",size:"sm",onClick:j,disabled:!p.value},{default:o(()=>[...e[30]||(e[30]=[t("삭제",-1)])]),_:1},8,["disabled"])]),d("div",ae,[d("div",ne,[l(_,{class:"mb-2"},{default:o(()=>[l(u,{md:3,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[31]||(e[31]=[t("창고 ID",-1)])]),_:1})]),_:1}),l(u,{md:8,class:"ps-3"},{default:o(()=>[l(x,{modelValue:a.wrhous_id,"onUpdate:modelValue":e[4]||(e[4]=s=>a.wrhous_id=s),size:"sm",placeholder:"자동 생성됩니다",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),l(_,{class:"mb-2"},{default:o(()=>[l(u,{md:3,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[32]||(e[32]=[t("창고명",-1)])]),_:1})]),_:1}),l(u,{md:8,class:"ps-3"},{default:o(()=>[l(x,{modelValue:a.wrhous_nm,"onUpdate:modelValue":e[5]||(e[5]=s=>a.wrhous_nm=s),size:"sm",placeholder:"자재창고"},null,8,["modelValue"])]),_:1})]),_:1}),l(_,{class:"mb-2"},{default:o(()=>[l(u,{md:3,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[33]||(e[33]=[t("품목 유형",-1)])]),_:1})]),_:1}),l(u,{md:8,class:"ps-3"},{default:o(()=>[l(T,{modelValue:a.item_ty,"onUpdate:modelValue":e[6]||(e[6]=s=>a.item_ty=s),size:"sm"},{default:o(()=>[...e[34]||(e[34]=[d("option",{value:""},"선택하세요",-1),d("option",{value:"E1"},"자재",-1),d("option",{value:"E2"},"반제품",-1),d("option",{value:"E3"},"완제품",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(_,{class:"mb-2"},{default:o(()=>[l(u,{md:3,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[35]||(e[35]=[t("상태",-1)])]),_:1})]),_:1}),l(u,{md:8,class:"ps-3"},{default:o(()=>[d("div",de,[l(I,{class:"radio-item",type:"radio",id:"status-active",name:"status",value:"M1",modelValue:a.st,"onUpdate:modelValue":e[7]||(e[7]=s=>a.st=s),label:"활성상태"},null,8,["modelValue"]),l(I,{class:"radio-item",type:"radio",id:"status-inactive",name:"status",value:"M2",modelValue:a.st,"onUpdate:modelValue":e[8]||(e[8]=s=>a.st=s),label:"비활성상태"},null,8,["modelValue"])])]),_:1})]),_:1}),l(_,{class:"mb-2"},{default:o(()=>[l(u,{md:3,class:"text-end pe-2"},{default:o(()=>[l(i,{class:"form-label pt-1"},{default:o(()=>[...e[36]||(e[36]=[t("비고",-1)])]),_:1})]),_:1}),l(u,{md:8,class:"ps-3"},{default:o(()=>[l(O,{modelValue:a.rm,"onUpdate:modelValue":e[9]||(e[9]=s=>a.rm=s),rows:"6",placeholder:"비고사항을 입력하세요",size:"sm"},null,8,["modelValue"])]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1})}}},fe=Q(ue,[["__scopeId","data-v-2e628015"]]);export{fe as default};
