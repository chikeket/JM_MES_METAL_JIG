import{_ as U,y as S,r as D,D as V,z as L,b as u,f as e,j as p,v as c,F as y,h as w,g as r,m as $,a as m,E as W,t as i,u as f}from"./index-TO8iFplr.js";const X={class:"container-fluid h-100 d-flex flex-column p-3"},B={class:"search-filter-box mb-2"},F={class:"row g-3 align-items-end"},I={class:"col-12 col-md-3"},A={class:"col-12 col-md-3"},C={class:"col-12 col-md-3"},T={class:"col-12 col-md-3"},j={class:"d-flex align-items-center gap-1"},q={class:"grid-box flex-grow-1 d-flex flex-column overflow-hidden"},G={class:"table-wrapper flex-grow-1"},O={class:"data-table w-100"},P={class:"text-center th-resizable"},Y={class:"th-resizable"},H={class:"th-resizable"},J={class:"th-resizable"},K={class:"th-resizable"},Q={class:"th-resizable"},Z={class:"th-resizable"},tt={class:"th-resizable"},st={class:"th-resizable"},et={class:"th-resizable"},ot={class:"th-resizable"},nt={class:"th-resizable"},lt={class:"th-resizable"},rt={class:"text-center"},it=["title"],dt=["title"],at=["title"],ut=["title"],mt=["title"],pt=["title"],ct=["title"],_t=["title"],xt=["title"],ft=["title"],vt=["title"],bt=["title"],gt=15,zt={__name:"rcvordSearch",setup(yt){const n=S({rcvord_id:"",co_nm:"",emp_nm:"",reg_dt_from:"",reg_dt_to:""}),_=D([]),v=D(["35px","120px","100px","140px","100px","100px","60px","60px","110px","100px","100px","110px","300px"]),d=S({idx:-1,startX:0,startW:0});function l(o,t){t.preventDefault();const s=parseInt(String(v.value[o]||"").replace(/px$/,""))||0;d.idx=o,d.startX=t.clientX,d.startW=s,document.body.classList.add("resizing"),document.addEventListener("mousemove",b),document.addEventListener("mouseup",g)}function b(o){if(d.idx<0)return;const t=o.clientX-d.startX,z=Math.min(600,Math.max(56,d.startW+t));v.value[d.idx]=`${z}px`}function g(){d.idx=-1,document.body.classList.remove("resizing"),document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",g)}V(()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",g)});const h=L(()=>_.value),E=L(()=>Math.max(0,gt-_.value.length));function M(o){if(o==null||o==="")return"";const t=Number(o);return Number.isFinite(t)?t.toLocaleString():String(o)}function N(o){if(!o)return"";try{if(typeof o=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(o))return o;const t=new Date(o);if(isNaN(t.getTime()))return"";const s=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),z=String(t.getDate()).padStart(2,"0");return`${s}-${a}-${z}`}catch{return""}}const x=N;function k(){n.rcvord_id="",n.co_nm="",n.emp_nm="",n.reg_dt_from="",n.reg_dt_to="",_.value=[]}async function R(){try{const o={...n},{data:t}=await $.get("/api/rcvord-search",{params:o});_.value=Array.isArray(t?.data)?t.data:[]}catch(o){console.error("검색 오류",o),alert("검색 중 오류가 발생했습니다.")}}return(o,t)=>(m(),u("div",X,[e("div",{class:"d-flex justify-content-end mb-2 gap-2"},[e("button",{class:"btn btn-secondary btn-sm",onClick:R},"조회"),e("button",{class:"btn btn-secondary btn-sm",onClick:k},"초기화")]),e("div",B,[e("div",F,[e("div",I,[t[18]||(t[18]=e("label",{class:"form-label"},"수주 ID",-1)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.rcvord_id=s),type:"text",class:"form-control"},null,512),[[c,n.rcvord_id]])]),e("div",A,[t[19]||(t[19]=e("label",{class:"form-label"},"납품 업체 명",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.co_nm=s),type:"text",class:"form-control"},null,512),[[c,n.co_nm]])]),e("div",C,[t[20]||(t[20]=e("label",{class:"form-label"},"수주 담당자",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.emp_nm=s),type:"text",class:"form-control"},null,512),[[c,n.emp_nm]])]),e("div",T,[t[22]||(t[22]=e("label",{class:"form-label"},"수주 등록 일자",-1)),e("div",j,[p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.reg_dt_from=s),type:"date",class:"form-control"},null,512),[[c,n.reg_dt_from]]),t[21]||(t[21]=e("span",{class:"mx-1"},"~",-1)),p(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.reg_dt_to=s),type:"date",class:"form-control"},null,512),[[c,n.reg_dt_to]])])])])]),e("div",q,[e("div",G,[e("table",O,[e("colgroup",null,[(m(!0),u(y,null,w(v.value,(s,a)=>(m(),u("col",{key:a,style:W({width:s})},null,4))),128))]),e("thead",null,[e("tr",null,[e("th",P,[t[23]||(t[23]=r(" No",-1)),e("span",{class:"col-resizer",onMousedown:t[5]||(t[5]=s=>l(0,s))},null,32)]),e("th",Y,[t[24]||(t[24]=r(" 수주 ID",-1)),e("span",{class:"col-resizer",onMousedown:t[6]||(t[6]=s=>l(1,s))},null,32)]),e("th",H,[t[25]||(t[25]=r(" 수주 담당자",-1)),e("span",{class:"col-resizer",onMousedown:t[7]||(t[7]=s=>l(2,s))},null,32)]),e("th",J,[t[26]||(t[26]=r(" 납품 업체 명",-1)),e("span",{class:"col-resizer",onMousedown:t[8]||(t[8]=s=>l(3,s))},null,32)]),e("th",K,[t[27]||(t[27]=r(" 제품 명",-1)),e("span",{class:"col-resizer",onMousedown:t[9]||(t[9]=s=>l(4,s))},null,32)]),e("th",Q,[t[28]||(t[28]=r(" 제품 옵션 명",-1)),e("span",{class:"col-resizer",onMousedown:t[10]||(t[10]=s=>l(5,s))},null,32)]),e("th",Z,[t[29]||(t[29]=r(" 규격",-1)),e("span",{class:"col-resizer",onMousedown:t[11]||(t[11]=s=>l(6,s))},null,32)]),e("th",tt,[t[30]||(t[30]=r(" 단위",-1)),e("span",{class:"col-resizer",onMousedown:t[12]||(t[12]=s=>l(7,s))},null,32)]),e("th",st,[t[31]||(t[31]=r(" 요청 수량",-1)),e("span",{class:"col-resizer",onMousedown:t[13]||(t[13]=s=>l(8,s))},null,32)]),e("th",et,[t[32]||(t[32]=r(" 수주 등록 일자",-1)),e("span",{class:"col-resizer",onMousedown:t[14]||(t[14]=s=>l(9,s))},null,32)]),e("th",ot,[t[33]||(t[33]=r(" 납품 예정 일자",-1)),e("span",{class:"col-resizer",onMousedown:t[15]||(t[15]=s=>l(10,s))},null,32)]),e("th",nt,[t[34]||(t[34]=r(" 출고 상태",-1)),e("span",{class:"col-resizer",onMousedown:t[16]||(t[16]=s=>l(11,s))},null,32)]),e("th",lt,[t[35]||(t[35]=r(" 비고",-1)),e("span",{class:"col-resizer",onMousedown:t[17]||(t[17]=s=>l(12,s))},null,32)])])]),e("tbody",null,[(m(!0),u(y,null,w(h.value,(s,a)=>(m(),u("tr",{key:a},[e("td",rt,i(a+1),1),e("td",{class:"text-start",title:s.rcvord_id},i(s.rcvord_id),9,it),e("td",{class:"text-start",title:s.emp_nm},i(s.emp_nm),9,dt),e("td",{class:"text-start",title:s.co_nm},i(s.co_nm),9,at),e("td",{class:"text-start",title:s.prdt_nm},i(s.prdt_nm||""),9,ut),e("td",{class:"text-start",title:s.opt_nm},i(s.opt_nm||""),9,mt),e("td",{class:"text-start",title:s.spec},i(s.spec||""),9,pt),e("td",{class:"text-start",title:s.unit},i(s.unit||""),9,ct),e("td",{class:"text-end",title:M(s.rcvord_qy)},i(M(s.rcvord_qy)),9,_t),e("td",{class:"text-start",title:f(x)(s.reg_dt)},i(f(x)(s.reg_dt)),9,xt),e("td",{class:"text-start",title:f(x)(s.paprd_dt)},i(f(x)(s.paprd_dt)),9,ft),e("td",{class:"text-start",title:s.st_nm},i(s.st_nm||""),9,vt),e("td",{class:"text-start",title:s.rm},i(s.rm||""),9,bt)]))),128)),(m(!0),u(y,null,w(E.value,s=>(m(),u("tr",{key:"empty-"+s,class:"empty-row"},[...t[36]||(t[36]=[e("td",{colspan:"13"}," ",-1)])]))),128))])])])])]))}},Mt=U(zt,[["__scopeId","data-v-de0cd297"]]);export{Mt as default};
